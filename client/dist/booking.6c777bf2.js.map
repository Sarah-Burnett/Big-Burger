{"version":3,"sources":["js/bookForm.js","js/getBooking.js","js/validation.js","js/sendBooking.js","js/booking.js"],"names":["availableDates","dateInput","document","querySelector","minDate","Date","now","maxDate","min","toISOString","split","max","availableTimes","event","timeInput","hours","target","validity","valid","dayOfWeek","dayofWeek","dayoffWeek","selectBtns","selectBtn","input","value","restaurantBtns","querySelectorAll","partyBtns","timeBtns","forEach","btn","addEventListener","dataset","bookForm","getBooking","id","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","status","responseText","error","send","inputs","errorBoxes","checkError","index","style","display","classList","add","scrollIntoView","removeError","oninput","remove","setParams","form","name","elements","email","restaurant","date","time","party","message","sendBooking","method","url","params","setRequestHeader","JSON","parse","_id","onerror","submitBooking","bookBtn","e","preventDefault","disabled","then","reply","innerHTML","catch","findBtn","inputForm","booking","findBooking","response","console","log","location","search","substr","onclick","editBtn","updateBtn","deleteBtn","editForm","readOnly","deleteBooking"],"mappings":";;AIAA;;AACA;;AACA,AFFA,IAAMgD,MAAM,GAAG9C,QAAQ,CAACyB,gBAAT,CAA0B,OAA1B,CAAf;ADAO,AEAP,ADCA,IDDaQ,ACCPc,UDDiB,ACCP,GDDU,ACCP/C,QAAQ,CDDdiC,ACCeR,UDDF,CAACS,EAAD,EAAQ,CCCf,CAA0B,QAA1B,CAAnB;AEGA,AHHI,SAAO,IAAIC,OAAJ,CAAa,UAACC,OAAD,EAAUC,MAAV,EAAqB;ADD7C,AIKA,AHHM,AEAN,ADCO,IFHDvC,AGEA4D,ADCOV,IDDDV,GAAG,EEAA,CFAG,ACCK,ECDL,CDCQ,CFHN,ACEEC,GDFC,IGEjBmB,CDCOV,CEIb,GJPMlD,ECEY,EAAZ,AEAY,EDCQ,CCDF,EDCQ,KFHT,GAAM;AACzB,ACEEwC,AEAJ,ADCE,IDDEA,EDFIvC,AGEF4D,ADCAf,CDDC,CAACJ,EEAE,CDCC,CDDP,CAAS,AEAAxC,CDCC,CFHG,GAAGA,ACEhB,CCCF,ECDmB,CAACC,IHFM,CAACA,QGEhB,CAAuB,IHFhB,CAAuB,MGE9B,CHFO,AGEpB,CHFE,ACEwCiC,EAAtC,GAA4C,IAA5C;ADDF,AIMJ,ADJE,ADCEY,EAAAA,EEGEwC,EJNIpF,AGEF0D,EDCE,CAAChC,CCDC,CCIC,EJNI,AGEF+B,CCIC3D,EJNI,AEGhB,CCDe,ADCC,CCDA6D,EHFI1D,EIMA,CAACF,CJNL,CAASE,CGEd,CAAc,ADCRmB,EFHY,CAAClB,EEGd,CFHS,AGEd,CDCa6C,CCDS1B,CCIrB,CAAuB,CJNG,CEGtB,CCDlB,CDCoC,KFHlB,CAAhB,AIMY,CAAhB;AJLI,ACCEe,AECJ,ADCI,IDFAA,EDDIjC,AGEFyD,CFDC,CAACrB,ACEA,CAACnB,ECDE,EHFI,CCCX,AECUqC,ADCA,CAAC5C,CFHG,CCCD,CECC,CAAC8C,CHFG1D,GEGb,CFHS,AEGMa,CFHGb,EGEb,CAAc,CHFG,ACCJ,ACEvB,CFH4BC,CEGD,EFHJ,EGEb,EAAuBmB,CHFG,IGExC,MHFkB,CAAhB;AACAxB,AIMJ,AHLQ,AECN,ADCM6C,EFHJ7C,EIMEwF,EDJExB,ADCAnB,IDFI,CDDC,AEGA,CFHCtC,CIMC,CFHC,CFHZ,ACCaoC,CGKC,ADJA,EHFExC,AEGZ,CCDayD,EFDT,EECa,CAACE,CHFC,AIMrB0B,CJNsBhF,ACCA,GAApB,EAAyB6B,CECZ,CAAc,CCIjB,CAACoD,EJNC,CCCoB,CAAC,CDDChF,EIMxB,EAAa,AHLemC,CDD1B,AGEC,CHF2B,CGECpB,EHF7B,EAAiC,CAAjC,AGElB,CHFE,GCCoC,CAAP,CAAzB,KACKc,MAAM,CAAC;ADDhBtC,AIMFyF,AHLmB5C,AECnB,ADCMG,EFHJhD,AIMFyF,IDJMxB,ADCAjB,EDFaH,CGKZ,CDJG,CHFC,CAACnC,AIMFgE,CHLc,AECXd,EHFX,ACCwB,CGKZ,AFHE,CEGDe,ADJE,ADCAzB,CFHC5C,AGEAwD,ICIR,AFHM,CEGK2B,AFHf,CAAkBtC,CFHC,CAAC3C,AGEb,CAAc,EDCrB,CEGI,AFHoB4C,CEG9B,EDJa,EAAsB5B,EHFjB,AEGZ,GFHkCf,AGExC,ADCwC,KFHtB,CAA4B,CEGxC,EFHY,EAAiC,CAAjC,CAAhB;AAAoD,AIOtD,AHNkB,AEElB,ADCMsC,MEGAA,ADJAmB,ADCAnB,CDHW,CAAN,EEED,ECIE,AFHA,CCDCa,ADCAV,EEGEjD,EDJE,CAAC6D,ADCN,CAAN,CAAcT,GEGG,CAAC3B,EDJX,CAAc,EDCrB,CAAwB4B,GCDjB,ADCP,CAA4B,CCDC9B,KCIpB,ADJf,CCIyC,EFHnC,KEGS,CAAf;AJND,AIOCuB,AHNK,AEEL,ADCMA,CFVR,CIaEA,GHTI,CEKEoB,ADCApB,EEGA,CAAClB,EDJI,CDCC,CAACqB,CCDCU,ECId,CAAe,CDJG,ADCN,CCDOE,ADCb,CAAcP,OEGLhC,ADJD,CAAc,ICIR,EAAI,AFHlB,CCDQ,EAAuBC,KAArC;ACIyB,ADHzB,ADCMgC,MCDAY,ADCAZ,EEEuBjC,KAAK,ADHrB,CCGsBsC,EDHnBD,CDCC,CEEY,AFFXV,ECDE,CAACY,ECGuB,AFF3B,CAAX,GEEmB,EAAyBvC,ADHlC,CAAc,ICGyB,CAACC,IDHxC,CCGkC,CDHTA,ECGuBiE,GDHhE,ICGuE,CAAClE,KAAK,CAACsC,IAAP,CAArB;AJLpD,AIKsF,AHLhFtB,AEGJ,ADCK,GECL,CJLI5B,ACAA4B,GAAG,CAACO,IAAJ,MDAc,GAAG,GGGNe,IAAf,EHHIlD,cAAiB,CAACC,GGGOmD,EHHR,EAAW,CGGhC,yBAAiDC,UAAjD,mBAAoEC,IAApE,mBAAiFC,IAAjF,oBAA+FC,KAA/F,sBAAgHC,OAAhH;AHFE,AIKFnE,AHLG,AEGJ,ADCI,CCXL,CCYEA,CHbS,ACIP,CDJA,EDQMY,IIKA,CAACX,IJLQ,GAAGD,MIKpB,CAAuB,CJLK,CAACC,QIK7B,EAAmCmD,GJLf,CAAuB,KIK3C,CAA6CK,CJLzB,CAAlB,IIKF,CAAoD,aAApD;AACD,AHLE,ACIC,CEJJ,AHVO,QCcIb,KAAP;AFJA,AGIJ,ADCC,CAZM,GCWDwB,EHJIvD,KAAK,IGIE,GAAG,SAAduD,WAAc,CAACC,MAAD,EAASC,GAAT,EAAiB;AHH/B,AIMN,ADFE,ICEImB,EDFElB,KHJK,CAAC,AGIA,GCEG,ADFAb,GCEG,CJNP,EAAU,GGIG,EAAxB,CCEI+B,CJNO,CADE,SIOK,CAAC9E,KAAD,EAAW;AJLzB,AIMJA,ADFA,ECEAA,KAAK,CAACqE,CDFC,GHJK,CAAC,AGIF7C,OHJC,AGIL,CAAa,CHJE,AIMtB,OJNY,CAFC,CGMQC,OAAD,EAAUC,MAAV,EAAqB;AHHrC,AIMJ,ADFE,QAAMC,GHJG,AGIA,CHJC,EGIE,IAAIC,CHJP,EAAU,OAAV,CAHE,CISFvC,EDFG,EAAZ,ICEiB,CAACC,aAAT,CAAuB,KAAvB,EAA8BsB,KAAzC,EACC2D,IADD,CACM,UAACQ,QAAD,EAAc;AJNhB,AIOFH,ADHAjD,ADDK,IEILiD,ADHAjD,ADDWiB,GCCR,CAACf,IAAJ,CHJW,AIOF,ADHA6B,CHJG,AIOFqB,CFJY,GAAG,CCCzB,EHJW,AGIMpB,CCGR,CJPY,AIOrB,CDHA,EAAsB,CDDXf,GFHA,AGIX,CHRW,OEOc,CAACN,KAAD,EAAW;AFFlC,AIOFjD,ADHAsC,ADDAQ,EAAAA,EEIA9C,ADHAsC,GAAG,CAACkC,ADDE,CAACvB,EFHE,CAAC,AIOF,CAAChD,CFJH,CAAN,CAAcuD,GFHL,EAAU,EEGnB,CCCA,CAAqB,CCGrB,AFJwB,CEID,CJPd,CALE,SEQmB,CCC9B,EAAqC,CCGrC,EAAwCJ,SAAxC,CAAkDK,MAAlD,CAAyD,cAAzD,CDHA;AHHE,AIOD,AFJC,GEAJ,EAKC4B,GFLOvC,EEAR,CJHW,AIQJ,CJRK,EEGE,CAACG,IFHJ,CEGG,CFHO,AIQbL,AFLA,CAAc7B,IEKf,EJRI,EEGH,CAAuBC,KAA3B,EAAkC;AFTzB,AIcN,ADJLsB,ADAKQ,ICALR,EDAKQ,CCAF,CAACL,GCIYkD,CJPP,AEGE,CFHD,AEGE1C,CCAZ,GAAa,CCIU,AFJZ,CEIa2C,AFJnB,CFHI,AEGUxC,EFHA,AIOH,CAAYR,KAAZ,CJPP,AIOJ,ADJkB,ADAlB,CFVM,AEUkBa,CFV7B,KEUK,CAA+B,SAA/B;AEIA,ADHH,ADAEV,GEFN,GFEMA,ICAE,KAAKL,CDAG,CAACO,ICAT,CDAQ,CAAV,CAAkBC,ECAA,GAApB,ADAE,CAAwBC,CCAD,MDAvB,GAAkC,MAAlC;AFFJ,AIMH,ADJ8B,ADCxB,CELP,KJEQxC,KAAK,CAACG,MAAN,CAAaC,OGGC0D,CHHd,CAAsBzD,EGGJ,CAAC0D,EHHvB,EAAiC,CGGf,CAAW,KAAK/B,YAAhB,CADS;AHDvB,AGCuB,ADE1B,GALD,KFEU1B,IGEC0D,GADgB,EHDR,GAAG,KAAlB,CAD6B,CACJ,GGElBA,GADgB;ACM/B,AFHC,CAPQ,GEUHzC,EAAE,GAAG2D,QAAQ,CAACC,MAAT,CAAgBC,MAAhB,CAAuB,CAAvB,CAAX;AJNQnF,AGEAwB,IHFAxB,IGEAwB,KHFS,CAAC9B,CGEH,CAAC,CHFR,GAAgBO,KAAK,CAACK,SAAD,CAAL,CAAiB,CAAjB,CAAhB;AACAN,AIMR,ADLiBuD,IHDTvD,AIMJsB,EAAE,IDLWiC,CCKN,EJNM,AIMjB,CJNkB1D,CIMH,EJNP,AGCgB,EAAE,CHDFI,KAAK,CAACM,MGCd,IHDa,CAAL,CAAkB,CAAlB,CAAhB;AACH,AIMHnB,ADNuCkC,ECMvClC,QAAQ,ADN+BkC,CCM9BjC,CDNgC,EAAE0E,UCM3C,CAAuB,KAAvB,EAA8BpD,KAA9B,GAAsCW,EAAtC;AJLD,AIMC,ADPc,CHfhB,QGee,CAAP,oBCOKA,EAAX,EACGgD,IADH,CACQ,UAACQ,QAAD,EAAc;AAClBH,ADT6C,ICS7CA,GDXA,MCWS,ADRJ,CCQKG,GDRD,KCQA,ADRKhD,CCQd,KDRS,KAAgB,GAApB,EAAyB;AHEpC,AIOM1C,ADT8B,IHE9BoB,AIOApB,QAAQ,CAACC,CJPC,GAAG,SAAbmB,AIOA,CAAuB,ADRAqD,IAAI,CAACC,IHCf,CGDU,CAAW,CHCf,GIOnB,CDRuC/B,CCQCS,SAAxC,CAAkDK,CDR3B,CADO,ICS9B,CAAyD,cAAzD;AJNF,AIOG,ADV6B,GCMlC,EAKG4B,CJRKhE,IIGR,CAKS,CDVI2C,GHEI,CGHiB,EHGd,GIQVpB,KAAD,CJRDvB,KGFK2C,IHEO,AGHc,CHGb1C,KAAD,EAAQC,KAAR;AAAA,AIQX,ADXyB,WHGIvB,AIQlB2F,CDVD1B,IADe,ECWP,CJRmB,AIQlB2B,CJRmB3F,EIQ3B,CAAY2C,KAAZ,CAAX,GDVUqB,CHEmB,CAAuB3C,EGH3B,GHGI,EAA8BC,KAA9B,GAAsCA,KAAxD;AAAA,AIQX,GJRP,AIGF;AAMD,ADVOa,QAAAA,OAAO,CAAC;AHEZ,AGFa+B,MHEP3C,IGFO2C,OAAO,EAAE,CHEF,GAAGnE,MGFX,EHEmB,CAACyB,gBAAT,CAA0B,sCAA1B,CAAvB;AACA,AIOH,ADVqCuC,MHG5BtC,IGH4BsC,IAAI,CHGvB,CGHmBA,EHGhBhE,EGHN,MHGc,CAACyB,gBAAT,CAA0B,iCAA1B,CAAlB;AACA,AGJwCwC,MHIlCtC,IGJkCsC,IHI1B,AGJ8B,EAAJA,CHIvBjE,QAAQ,CAACyB,gBAAT,CAA0B,gCAA1B,CAAjB;AACAD,AIQJ8D,ADbgB,EHKZ9D,KIQG,CAACwE,CDbO,CAAP,KCaR,CJRkB,CAACpE,CIQD,MJRd,CAAuB,GIQRjB,KAAD,EJRSkB,GAAG;AAAA,AIQZ,ADZX,OAHI,ECekB4D,EJRK5D,EGHvB,CHG0B,CAACC,KIQE,CAACnB,KAAD,CAAtB,IJRgB,CAAqB,OAArB,EAA8B;AAAA,AIQ9C,ADXN0B,CCWZ,EAEA,KDbYA,KHG0DhB,CGHpD,CAAC,OHG4D,CAAC,aAAD,EAAgBQ,GAAG,CAACE,OAAJ,CAAYR,KAA5B,CAAf;AAAA,AGH5C4C,KHGc,CAAJ,IGHVA,OAAO,EAAE;AHGC,AGHX,GHGf,MGHc,CAAN;AHIRzC,AIUJ,ADd0C,EHItCA,EIUEuE,OJVO,AIUA,CJVCrE,EIUE5B,KJVZ,CAAkB,EIUE,CAACC,OJVH4B,GAAG,GIUT,CAAuB,UAAvB,CAAhB;AJVyB,AIWzB,ADdK,ICcCqE,CDvBF,MHYyBrE,EIWd,CJXiB,CAACC,CIWf9B,QAAQ,CAACC,MJXE,CAAqB,MIWhC,CJXW,AIWY,EJXkB,UIWzC,CAAlB;AJX2D,AIY3D,IAAMkG,SJZ2D9E,AIYlD,GAAGrB,MJZwD,CAAC,CIYjD,CAACC,MJZ+C,EAAW4B,GAAG,CAACE,CIYvE,CAAuB,KJZ4C,CAAYR,KAAvB,CAAf,AIYzC,CAAlB;AJZ2D,AGFvDe,IAAAA,CHEyB,CAAJ,CGFlB,CAACsC,OAAJ,GAAc,YAAU;AHEH,AIczB,ADhB6BvC,GHEzB,CIcE+D,EDhBuB/D,MCgBf,ADhBqB,CAAC,ECgBnB,SAAX+D,QAAW,CAACzF,KAAD,EAAW;AJbxBgB,AIcF,ADjBmCwC,EHGjCxC,IIcIgC,EDjB6BQ,EHGzB,AIcA,CJdCvC,EIcE5B,EDjB6B,EAAE,CHG1C,CAAiB,EIcE,CAACC,OJdH4B,GAAG,GIcT,CAAuB,WAAvB,CAAb;AJdsB,AIetB,ADlBkC,MCkB5BiB,CDlB2B,CAAN,GHGDjB,CIed,EJfiB,CAACC,AIef9B,QAAQ,CAACyB,OJfE,CAAqB,OAArB,CIeX,CJfyC,AIef,OAA1B,CAAf;AJfwD,AIgBxDd,ADnByD,ECmBzDA,GDnBE,ECmBG,CAACqE,KJhBwD3D,SAAS,AIgBvE,CJhBwE,OAAD,EAAUQ,GAAG,CAACE,OAAJ,CAAYR,KAAtB,CAAf;AAAA,AIiBxDuB,EAAAA,GJjB0B,CAAJ,EIiBhB,CAAClB,OAAP,CAAe,UAAAN,KAAK,EAAI;AJjBF,AIiBG,ADnBvBgB,GHEA,CGFAA,GAAG,CCmBwBhB,ADnBvBuB,IAAJ,CCmBgC,ADnBvB0B,CCmBwBX,IAAN,CDnB3B,ICmB0C,YAAnB,EAAi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","file":"booking.6c777bf2.js","sourceRoot":"..","sourcesContent":["const availableDates = () => {\r\n    const dateInput = document.querySelector('#date');\r\n    const minDate = new Date(Date.now() + 86400000);\r\n    const maxDate = new Date(Date.now() + 1296000000);\r\n    dateInput.min = minDate.toISOString().split('T')[0];\r\n    dateInput.max = maxDate.toISOString().split('T')[0];;\r\n}\r\n\r\nconst availableTimes = (event) => {\r\n    const timeInput = document.querySelector('#time');\r\n    const hours = {\r\n      \"Mon\": [\"17:00\", \"21:00\"],\r\n      \"Tues\": [\"17:00\", \"21:00\"],\r\n      \"Wed\": [\"17:00\", \"21:00\"],\r\n      \"Thurs\": [\"17:00\", \"21:00\"],\r\n      \"Fri\": [\"17:00\", \"21:00\"],\r\n      \"Sat\": [\"12:00\", \"21:00\"],\r\n      \"Sat\": [\"17:00\", \"20:00\"],\r\n    }\r\n    if (event.target.validity.valid) {\r\n        const dayOfWeek = \"Mon\"; // edit to this to get day of week\r\n        timeInput.min = hours[dayofWeek][0];\r\n        timeInput.max = hours[dayoffWeek][1];\r\n    }\r\n}\r\n\r\nconst selectBtns = () => {\r\n    const selectBtn = (input, value) => document.querySelector(input).value = value;\r\n    const restaurantBtns = document.querySelectorAll(\".restaurant .dropdown-content button\");\r\n    const partyBtns = document.querySelectorAll(\".party .dropdown-content button\");\r\n    const timeBtns = document.querySelectorAll(\".time .dropdown-content button\");\r\n    restaurantBtns.forEach(btn => btn.addEventListener('click', () => selectBtn(\"#restaurant\", btn.dataset.value)));\r\n    partyBtns.forEach(btn => btn.addEventListener('click', () => selectBtn(\"#party\", btn.dataset.value)));\r\n    timeBtns.forEach(btn => btn.addEventListener('click', () => selectBtn(\"#time\", btn.dataset.value)));\r\n  }\r\n\r\nexport const bookForm = () => {\r\n    availableDates();\r\n    //document.querySelector('#date').addEventListener('onchange', availableTimes(event)) ;\r\n    selectBtns();\r\n}","export const getBooking = (id) => {\r\n    return new Promise ((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest\r\n      xhr.open('GET', `/api/guest/booking/${id}`, true)\r\n      xhr.onload = function(){\r\n        if (this.status === 200) resolve(this.responseText)\r\n        else reject({error: \"no booking found\"})\r\n      }\r\n      xhr.send()\r\n    })\r\n  }","const inputs = document.querySelectorAll('input');\r\nconst errorBoxes = document.querySelectorAll('.error');\r\n\r\nexport const checkError = () => {\r\n    let error = false;\r\n    inputs.forEach( (input, index) => {\r\n      if (!input.validity.valid) {\r\n        error = true; \r\n        errorBoxes[index].style.display = 'block';\r\n        inputs[index].classList.add('invalid');\r\n        inputs[index].scrollIntoView();\r\n        removeError(index);     \r\n      }\r\n    })\r\n    return error;\r\n}\r\n\r\n  export const removeError = (index) => {\r\n    inputs[index].oninput = () => {\r\n      if (inputs[index].validity.valid) {\r\n         inputs[index].classList.remove('invalid');\r\n        errorBoxes[index].style.display = 'none';\r\n      }\r\n    }\r\n}\r\n  \r\n  ","import { checkError } from './validation';\r\n\r\nconst setParams = () => {\r\n  const form = document.querySelector('#bookForm');\r\n  const name = form.elements[\"name\"].value;\r\n  const email = form.elements[\"email\"].value;\r\n  const restaurant = form.elements[\"restaurant\"].value;\r\n  const date = form.elements[\"date\"].value;\r\n  const time = form.elements[\"time\"].value;\r\n  const party = form.elements[\"party\"].value;\r\n  const message = form.elements[\"message\"].value;\r\n  return `name=${name}&email=${email}&restaurant=${restaurant}&date=${date}&time=${time}&party=${party}&message=${message}`\r\n}\r\n\r\nconst sendBooking = (method, url) => {\r\n  const params = setParams();\r\n  return new Promise ((resolve, reject) => {\r\n    const xhr = new XMLHttpRequest;\r\n    xhr.open(method, url, true);\r\n    xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\r\n    xhr.onload = function(){\r\n      if (this.status === 200) {\r\n        const {_id} = JSON.parse(this.responseText);\r\n        resolve({message: \"bookSuccess\", id: _id})}\r\n      else if (this.status === 403) {\r\n        const {date, time} = JSON.parse(this.responseText);\r\n        resolve({message: \"bookFull\", date, time})\r\n      }\r\n      else {reject({message: \"bookFail\"})}\r\n    };\r\n    xhr.onerror = function(){reject({message: \"bookFail\"})};\r\n    xhr.send(params);\r\n  })\r\n}\r\n\r\nexport const submitBooking = (method, url) => {\r\n  const bookBtn = document.querySelector('.bookBtn');\r\n  document.querySelector('#bookForm').addEventListener('submit', (e) => {  \r\n      e.preventDefault();\r\n      const error = checkError();\r\n      if (!error) {\r\n        bookBtn.value = \"Sending...\";\r\n        bookBtn.disabled = true;\r\n        sendBooking(method, url)\r\n          .then((reply) => {\r\n            let { message, id, date, time } = reply;\r\n            if (document.querySelector('#id')) id = document.querySelector('#id').value;\r\n            document.querySelector('#_id').innerHTML = `<a href=\"booking.html?${id}\">${id}</a>`\r\n            document.querySelector('#date').innerHTML = date\r\n            document.querySelector('#time').innerHTML = time\r\n            document.querySelector(`.${message}`).classList.add(\"modal-active\")\r\n          })\r\n          .catch(() => document.querySelector(\".bookFail\").classList.add(\"modal-active\"))\r\n      }\r\n  });\r\n}\r\n\r\n","import { bookForm } from './bookForm'\r\nimport { getBooking } from './getBooking';\r\nimport { submitBooking } from './sendBooking';\r\n\r\n//preparing form and form Buttons\r\nbookForm();\r\n\r\n//find existing booking\r\nconst findBtn = document.querySelector('#findBtn');\r\n\r\nconst inputForm = (booking) => {\r\n  booking = JSON.parse(booking);\r\n  const inputs = document.querySelectorAll('input');\r\n  inputs.forEach(input => {if (input.name !== \"id\") input.value = booking[input.name]});\r\n  document.querySelector('.modalBg').classList.remove(\"modalActive\");\r\n};\r\n\r\nconst findBooking = (event) => {\r\n  event.preventDefault();\r\n  getBooking(document.querySelector('#id').value)\r\n  .then((response) => {\r\n    inputForm(response);\r\n    document.querySelector(\".modal-active\").classList.remove(\"modal-active\");\r\n    })\r\n  .catch((error) => console.log(error))\r\n};\r\n\r\nconst id = location.search.substr(1);\r\nif (id !== \"\") {\r\n  document.querySelector('#id').value = id;\r\n  getBooking(id)\r\n    .then((response) => {\r\n      inputForm(response);\r\n      document.querySelector(\".modal-active\").classList.remove(\"modal-active\");\r\n      })\r\n    .catch((error) => console.log(error))\r\n};\r\n\r\n\r\nfindBtn.onclick = (event) => findBooking(event);\r\n\r\n//crud booking buttons\r\nconst editBtn = document.querySelector('#editBtn');\r\nconst updateBtn = document.querySelector('#updateBtn');\r\nconst deleteBtn = document.querySelector('#deleteBtn');\r\n\r\nconst editForm = (event) => {\r\n  const form = document.querySelector('#bookForm');\r\n  const inputs = document.querySelectorAll('input');\r\n  event.preventDefault();\r\n  inputs.forEach(input => {if (input.name !== \"restaurant\") input.readOnly = false});\r\n  form.classList.remove('formDisabled');\r\n  form.classList.add('formEditable');\r\n};\r\n\r\nconst deleteBooking = (event) => {\r\n  console.log(\"delete me bro\");\r\n  event.preventDefault();\r\n  const xhr = new XMLHttpRequest;\r\n  xhr.open('DELETE', `./api/guest/booking/${id}`, true) ;\r\n  xhr.onload = function(){\r\n    if (this.status === 200) document.querySelector('.bookDeleted').classList.add(\"modal-active\")\r\n   else document.querySelector('.bookFail').classList.add(\"modal-active\")\r\n  };\r\n  xhr.send();\r\n};\r\n\r\neditBtn.onclick = (event) => editForm(event);\r\ndeleteBtn.onclick = (event) => deleteBooking(event);\r\nupdateBtn.onclick = (event) => submitBooking('PUT', `./api/guest/booking/${document.querySelector('#id').value}`);\r\n\r\n"]}