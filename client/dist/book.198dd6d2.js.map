{"version":3,"sources":["js/bookForm.js","js/validation.js","js/sendBooking.js","js/book.js"],"names":["availableDates","dateInput","document","querySelector","minDate","Date","now","maxDate","min","toISOString","split","max","availableTimes","event","timeInput","hours","target","validity","valid","dayOfWeek","dayofWeek","dayoffWeek","selectBtns","selectBtn","input","value","closeDropdown","dropdown","style","height","restaurantBtns","querySelectorAll","partyBtns","forEach","btn","addEventListener","dataset","bookForm","name","email","date","time","party","formBoxes","inputs","errorBoxes","checkError","div","classList","contains","remove","p","innerHTML","display","error","showError","index","msg","errorMsg","add","scrollIntoView","setParams","form","elements","restaurant","message","sendBooking","method","url","params","console","log","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","onload","status","JSON","parse","responseText","_id","id","onerror","send","submitBooking","bookBtn","e","preventDefault","disabled","then","reply","catch"],"mappings":";;AGAA;;AACA;;AAEA,AFHA,IAAMsC,IAAI,GAAGpC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb;AEIA,ADJA,ADCA,IAAMoC,KAAK,GAAGrC,QAAQ,CAACC,MEKvB,OFLc,CAAuB,QAAvB,CAAd;AACA,IAAMqC,IAAI,GAAGtC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAb;AEKAD,AHPA,AEEA,ADCA,IDHMF,AEEA6D,ADCApB,IEIE,AFJE,CEIDtC,EFJID,ECDE,GAAG,EFFE,CCGC,CAACC,CDHC,CGOvB,CAAuB,EDLjB0D,KFFA7D,GCGO,CEIb,ADLkB,ADCkB,EEIAmC,CDLZ,IDCX,CAAb,EDHuB,GAAM,KGO7B,CAAqD,QAArD,EAA+D,gCAAc,MAAd,EAAsB,qBAAtB,CAA/D;AHNI,AEEF,ADCF,IAAMO,EDHIzC,AEEF6D,GDCG,CCDC,EDCE5D,CCDCA,EFFI,GAAGA,ECGA,CCDC,ADCAC,CCDCA,IFFM,CAACA,OCGjB,CCDC,ADCsB,CCDC,IFFhB,CAAuB,ECG/B,CAAd,GCDe,CFFO,AEEpB,CFFE;AACA,AEEF,ADCF,IAAMwC,EDHIvC,AEEFkC,IAAI,GFFK,AEEFwB,ADCA,GDHK,ACGF5D,CCDC,CAAC6D,EFFI1D,IAAJ,ACGM,CDHGA,ACGF0B,CCDZ,CAAc,EFFI,CAACzB,GAAL,AEEd,EAAsBmB,GFFK,EEExC,CDCgB,CAA0B,IDHxB,CAAhB,UCGc,CAAlB;ADFI,AEEF,ADCF,IAAMmB,EDHIrC,AEEFgC,IDCI,CCDC,EFFI,ACGFrC,CCDC4D,EFFI,EEEA,CAACC,CFFG1D,CCGD,CAAC0B,EDHJ,CAAS1B,EEEb,CAAc,CFFG,CAACC,GAAL,EEEb,EAAuBmB,CFFG,ACG3B,CAA0B,GCDvC,IDCa,CAAf,CDHoB,CAAhB;AACAxB,AEEF,ADCF,EDHIA,ECGE4C,ECDEmB,KFFK,CAACxD,ECGE,CDHZ,CEEc,CDCCN,CDHCE,CEEC0D,IAAI,CAACC,CFFC,ACGA,CDHCtD,ACGAsB,MCDP,CAAc,IFFf,GAAsBrB,ECGvB,CAA0B,EDHzB,AEEC,CFF2B,CEECe,EFF7B,EAAiC,ACGlC,CDHC,AEElB,ADCF,CDHI;AACAxB,AEEF,EFFEA,IEEIuC,IAAI,CFFC,CAAC7B,CEECmD,EFFX,EEEe,CFFCvD,AEEAwD,OFFO,CAACtD,AEEb,CAAc,MAAd,EAAsBgB,EFFjB,GAAsBf,AEExC,KFFkB,CAA4B,GAA5B,EAAiC,CAAjC,CAAhB;AAAoD,AEGtD,ADCK,IAAMoC,ECDLL,IAAI,GAAGqB,CDCQ,GCDJ,ADCO,CCDNC,QAAL,ADCFjB,CCDgB,MAAd,EAAsBrB,CDCX,GAAM,CCD9B;AFFD,AEGC,ADCEkB,CDVJ,CCUIA,ICDID,KAAK,ADCA,CAACT,ECDE6B,IAAI,CAACC,ADCjB,CAAmB,OCDP,CAAc,EDCPhB,GAAG,ECDV,ADCc,ECDStB,KAArC;AACA,ADCI,MCDEwC,EDCElB,GAAG,CAACC,CCDC,GAAGc,IAAI,CAACC,ADCb,CAAcd,OCDN,CAAc,ADCtB,CAAuB,QCDf,CDCR,CCDiCxB,ADCrC,EAAuC,GCD3C;AFFF,AEGE,ADCMsB,IDJFnC,ECIEmC,GAAG,CAACC,QDJQ,CCIZ,CAAcE,CDJC,GEGNZ,EDCT,CAAqB,CCD3B,EFHI1B,MCIE,QDJe,CAACC,GEGO0B,EFHR,EAAW,CEGhC,yBAAiDyB,UAAjD,mBAAoExB,IAApE,mBAAiFC,IAAjF,oBAA+FC,KAA/F,sBAAgHuB,OAAhH;AFFE,AEGH,ADCM,CCXP,KFOUnD,SAAS,GAAGZ,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAlB;;AACA,AEIJ,ADDO,ICCD+D,EFJInD,KAAK,IEIE,GAAG,SAAdmD,WAAc,CAACC,MAAD,EAASC,GAAT,EAAiB;AFH/B,AEIJ,ADDG,GAJD,GCKIC,KFJK,CAAC,AEIA,GAAGR,IFJJ,EAAU,GEIG,EAAxB,EFJW,CADE;AAET,AEIJS,ADDE1B,ECCF0B,ADDE1B,MAAM,CCCD,ADDEX,CCCDsC,EFJI,CAAC,AEIb,CAAYF,EDDV,CAAgB,GDHN,AEIZ,EFJsB,KCGJ7C,EDHN,CAFC,ECKU,EAAI;ADFvB,AEIJ,ADDM,QAAIA,CCCH,EFJI,CAAC,CEIDgD,ADDI,CAACxB,KDHL,CEIJ,CFJc,AEID,EDDV,CAAgBC,IDHf,CAHE,EEOQwB,CDDX,CAAyB,KCCf,EAAUC,EDDpB,CAAJ,EAAyC,CCC3B,EAAqB;AFHrC,AEIF,ADDMlD,MAAAA,ECCAmD,GAAG,ADDE,CAAC3B,CDHD,CAAC,AEIA,IAAI4B,GFJL,ACGL,CAAgB1B,CDHD,KCGf,CAAuB,CDHlB,CAJA,CEQC,EAAZ,IDDM;ADFJ,AEIFyB,ADDK,ICCLA,GAAG,CAACE,GFJK,CAAC,AEIV,CAASV,MFJA,AEIT,EFJmB,AEIFC,GAAjB,EAAsB,EFJb,CALE,CESX;AFHE,AEIFO,IAAAA,GAAG,CAACG,GFJK,CAAC,OAAD,EAAU,GEInB,CAAqB,GFJZ,WEIT,EAAqC,mCAArC;AFVW,ACQN,YDDI,CAAC,OAAD,EAAU,OAAV,CAPE,CAAX;AEWAH,ADFG,GAJH,CCMAA,GAAG,CAACI,MAAJ,GAAa,YAAU;AFFvB,AEGE,ADFFlC,EAAAA,IDDIhC,IEGE,CFHG,CAACG,ACCA,CAACiB,ECEA+C,GFHP,CAAa/D,CCCjB,CCEM,ADFc,KCEE,CFHlB,CAAsBC,CEGxB,EAAyB,ADFPiC,CAAC,CDDrB,CCCyB,CDDQ;AAC7B,AEEuB,ADDzBA,IAAAA,CAAC,CAACC,EDDMjC,OCCR,EDDiB,CCCH,EDDM,ACCpB,EDDE,CAD6B,CACR,EEGP8D,IAAI,CAACC,KAAL,CAAW,KAAKC,YAAhB,CADS;AAAA,ADAzBhC,IAAAA,CAAC,CAACvB,KAAF,CCCSwD,ADDD/B,GCAiB,IDAzB,GAAkB,MAAlB,ECCS+B,GADgB;AFDvBtE,ACEH,GAHD,CDCIA,SAAS,CAACN,GAAV,GAAgBO,KAAK,CAACK,SAAD,CAAL,CAAiB,CAAjB,CAAhB;AACAN,AEEA2D,ADAJ,IDFI3D,ECEAwC,ECAAmB,GDAK,EDFI,CAAC9D,ACEF,CCAD,CAAC,CFFR,ECEJ,CDFoBI,KAAK,CAACM,UAAD,CAAL,CAAkB,CAAlB,CAAhB;AACH,AECY4C,UAAAA,OAAO,EAAE,aAAV;AFAf,AEAwCoB,ADCrC,CDjBJ,KCiBQ,CAAC3C,GCDgC2C,EAAE,ADC7B,CAACpE,CCD8BmE,ODCpC,CAAelE,KAApB,EAA2B;ACDf,ADEVoC,IAAAA,KCFS,ADEJ,CCFH,EDEM,IAAR;ADAN,AEFmD,ADG7CC,IDDAjC,ACCAiC,GCLA,MAGK,ADEI,CDDC,ACCA,CAAD,EDDI,AEDJ,ADEI,KCFCyB,IFCd1D,EEDS,KAAgB,GFCZ,AEDR,EAAyB,CFCX,0BCCV,CAAT;ADAF,AEFgC,ADG/B,MDDKC,SAAS,GAAG,SAAZA,AEDmB0D,IAAI,CAACC,IFCZ,CAAC1D,AEDM,CAAW,IFClB,CEDuB2D,CFCf1D,KAAR,MEDO,CADO;AFEd,AEFc,WFEIvB,CEDzBsC,IADqB,GFEY,CAACrC,YEDlCqC,CFCyB,CAAuBhB,EEF3B,GFEI,EAA8BC,KAA9B,GAAsCA,KAAxD;AAAA,AEFc,ADIhC,GDFA,GCEI,CAACgB,IAAI,CCHQA,ADGPxB,ICJsB,IDI3B,CAAcC,KAAnB,EAA0B,ICHTuB,IADe;ADK5Ba,IAAAA,KAAK,GAAG,IAAR;ADFJ,AEDImB,ADIAlB,IAAAA,EDHE7B,EEDF+C,KDIS,CAAC,CCJH,ADIE,CCJD,CDIK,EDHE,GAAG,SAAhB/C,aAAgB,CAACC,QAAD,WCGT,CAAT;ADHkB,AEDTsC,ADKV,UCLUA,CFCuB/D,MEDhB,EFCwB,AEDtB,CFCuBC,SEDjC,IFCwB,CAAuB,mBAAvB,EAA4CyB,KAA5C,CAAkDC,MAAlD,GAA2D,CAAzE;AAAA,AEDYW,GFClC,OEDkCA,IAAI,EAAJA,IAAtB;AAA4BC,ADMxC,MAAI,CAACD,GCNmCC,CDM/B,CAACxB,ECNkC,EAAJwB,IDMnC,CAAcvB,KAAnB,EAA0B;ADJ1B,AEFY,ADORoC,IAAAA,EDLExB,GEFK,ADOF,CCPL,EDOQ,IAAR,IDLgB,GAAG5B,QAAQ,CAAC6B,gBAAT,CAA0B,sCAA1B,CAAvB;AACA,AEFG,ADOCwB,IAAAA,EDLEvB,CELC,MAIA,ADMM,CAAC,CDLC,ACKF,GDLK9B,QAAQ,CAAC6B,gBAAT,CAA0B,6BCKxC,IDLc,CAAlB;AACAD,AEFQ4C,ADOL,EDLH5C,MEFQ4C,MAAM,CAAC,CFED,CAACzC,OAAf,CAAuB,UAAAC,GAAG;AAAA,AEFV+B,UAAAA,CFEc/B,GAAG,CAACC,EEFX,EAAE,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","file":"book.198dd6d2.js","sourceRoot":"..","sourcesContent":["const availableDates = () => {\r\n    const dateInput = document.querySelector('#date');\r\n    const minDate = new Date(Date.now() + 86400000);\r\n    const maxDate = new Date(Date.now() + 1296000000);\r\n    dateInput.min = minDate.toISOString().split('T')[0];\r\n    dateInput.max = maxDate.toISOString().split('T')[0];;\r\n}\r\n\r\nconst availableTimes = (event) => {\r\n    const timeInput = document.querySelector('#time');\r\n    const hours = {\r\n      \"Mon\": [\"17:00\", \"21:00\"],\r\n      \"Tues\": [\"17:00\", \"21:00\"],\r\n      \"Wed\": [\"17:00\", \"21:00\"],\r\n      \"Thurs\": [\"17:00\", \"21:00\"],\r\n      \"Fri\": [\"17:00\", \"21:00\"],\r\n      \"Sat\": [\"12:00\", \"21:00\"],\r\n      \"Sat\": [\"17:00\", \"20:00\"],\r\n    }\r\n    if (event.target.validity.valid) {\r\n        const dayOfWeek = \"\" //get day of week from time\r\n        timeInput.min = hours[dayofWeek][0];\r\n        timeInput.max = hours[dayoffWeek][1];\r\n    }\r\n}\r\n\r\nconst selectBtns = () => {\r\n    const selectBtn = (input, value) => document.querySelector(input).value = value;\r\n    const closeDropdown = (dropdown) => document.querySelector('.dropdown-content').style.height = 0;\r\n    const restaurantBtns = document.querySelectorAll(\".restaurant .dropdown-content button\");\r\n    const partyBtns = document.querySelectorAll(\".party .dropdown-content button\");\r\n    restaurantBtns.forEach(btn => btn.addEventListener('click', () => selectBtn(\"#restaurant\", btn.dataset.value)));\r\n    partyBtns.forEach(btn => btn.addEventListener('click', () => selectBtn(\"#party\", btn.dataset.value)));\r\n  }\r\n\r\nexport const bookForm = () => {\r\n    availableDates();\r\n    //document.querySelector('#date').addEventListener('onchange', availableTimes(event))\r\n    selectBtns();\r\n}","const name = document.querySelector('#name');\r\nconst email = document.querySelector('#email');\r\nconst date = document.querySelector('#date');\r\nconst time = document.querySelector('#time');\r\nconst party = document.querySelector('#party');\r\nconst formBoxes = document.querySelectorAll('#bookForm div');\r\nconst inputs = document.querySelectorAll('input');\r\nconst errorBoxes = document.querySelectorAll('.error');\r\n\r\nexport const checkError = () => {\r\n    formBoxes.forEach( div => { \r\n      if (div.classList.contains('invalid')) {\r\n        div.classList.remove('invalid')\r\n      };\r\n    });\r\n    inputs.forEach( input => { \r\n        if (input.classList.contains('invalid')) {\r\n          input.classList.remove('invalid')\r\n        };\r\n      });\r\n    errorBoxes.forEach( p => {\r\n      p.innerHTML = '';\r\n      p.style.display = 'none';\r\n    });\r\n    let error = false;\r\n    if (!party.validity.valid) {\r\n      error = true;\r\n      showError(5, 'Please select the number of people between 2-8');\r\n    }  \r\n    if (!time.validity.valid) {\r\n        error = true;\r\n        showError(4, 'Please select the time you would like to book');\r\n      }\r\n    if (!date.validity.valid) {\r\n        error = true;\r\n        showError(3, `Please select a date (dd/mm/yy) in the next two weeks`);\r\n      } \r\n    if (!email.validity.valid) {\r\n        error = true;\r\n        showError(1, 'Please enter your valid email address');\r\n      } \r\n    if (!name.validity.valid) {\r\n        error = true;\r\n        showError(0, 'Please enter your name');\r\n      }\r\n    return error;\r\n  }\r\n  \r\n  export const showError = (index, msg) => {\r\n    let errorMsg = msg;\r\n    errorBoxes[index].innerHTML = errorMsg;\r\n    errorBoxes[index].style.display = 'block';\r\n    if (index == 0) {\r\n        document.querySelector('#name').classList.add('invalid');\r\n    }\r\n    if (index == 1) {\r\n        document.querySelector('#email').classList.add('invalid');\r\n    }\r\n    if (index == 3) {\r\n        document.querySelector('#date').classList.add('invalid');\r\n    }\r\n    formBoxes[index].scrollIntoView();\r\n  }\r\n  \r\n  ","import { checkError } from './validation';\r\n\r\nconst setParams = () => {\r\n  const form = document.querySelector('#bookForm');\r\n  const name = form.elements[\"name\"].value;\r\n  const email = form.elements[\"email\"].value;\r\n  const restaurant = form.elements[\"restaurant\"].value;\r\n  const date = form.elements[\"date\"].value;\r\n  const time = form.elements[\"time\"].value;\r\n  const party = form.elements[\"party\"].value;\r\n  const message = form.elements[\"message\"].value;\r\n  return `name=${name}&email=${email}&restaurant=${restaurant}&date=${date}&time=${time}&party=${party}&message=${message}`\r\n}\r\n\r\nconst sendBooking = (method, url) => {\r\n  const params = setParams();\r\n  console.log(params);\r\n  return new Promise ((resolve, reject) => {\r\n    const xhr = new XMLHttpRequest;\r\n    xhr.open(method, url, true);\r\n    xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\r\n    xhr.onload = function(){\r\n      if (this.status === 200) {\r\n        const {_id} = JSON.parse(this.responseText);\r\n        resolve({message: \"bookSuccess\", id: _id})}\r\n      else if (this.status === 403) {\r\n        const {date, time} = JSON.parse(this.responseText);\r\n        resolve({message: \"bookFull\", date, time})\r\n      }\r\n      else {reject({message: \"bookFail\"})}\r\n    };\r\n    xhr.onerror = function(){reject({message: \"bookFail\"})};\r\n    xhr.send(params);\r\n  })\r\n}\r\n\r\nexport const submitBooking = (method, url) => {\r\n  const bookBtn = document.querySelector('.bookBtn');\r\n  document.querySelector('#bookForm').addEventListener('submit', (e) => {  \r\n      e.preventDefault();\r\n      const error = checkError();\r\n      if (!error) {\r\n        bookBtn.value = \"Sending...\";\r\n        bookBtn.disabled = true;\r\n        sendBooking(method, url)\r\n          .then((reply) => {\r\n            let { message, id, date, time } = reply;\r\n            if (document.querySelector('#id')) id = document.querySelector('#id').value;\r\n            document.querySelector('#_id').innerHTML = `<a href=\"booking.html?${id}\">${id}</a>`\r\n            document.querySelector('#date').innerHTML = date\r\n            document.querySelector('#time').innerHTML = time\r\n            document.querySelector(`.${message}`).classList.add(\"modal-active\")\r\n          })\r\n          .catch(() => document.querySelector(\".bookFail\").classList.add(\"modal-active\"))\r\n        }\r\n  });\r\n}\r\n\r\n","import { bookForm } from './bookForm'\r\nimport { submitBooking } from './sendBooking';\r\n\r\n//preparing form and form Buttons\r\nbookForm();\r\n\r\n//send booking\r\ndocument.querySelector('#bookForm').addEventListener('submit', submitBooking('POST', './api/guest/booking'))\r\n\r\n\r\n"]}