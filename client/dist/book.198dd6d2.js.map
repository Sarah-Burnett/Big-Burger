{"version":3,"sources":["js/date.js","js/selectBtns.js","js/validation.js","js/book.js"],"names":["dateInput","document","querySelector","dateTodayplus1","Date","now","dateFortnightplus1","minmaxDate","min","toISOString","split","max","selectBtns","selectParty","increment","field","value","parseInt","decrement","onclick","selectTime","time","plus30","index","indexOf","length","minus30","selectRestaurant","rest","inc","dec","name","email","date","party","formBoxes","querySelectorAll","inputs","errorBoxes","checkError","forEach","div","classList","contains","remove","input","p","innerHTML","style","display","error","validity","valid","showError","getDate","getMonth","getFullYear","msg","errorMsg","add","scrollIntoView","submitForm","bookForm","bookBtn","postBooking","url","form","elements","restaurant","message","params","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","onload","JSON","parse","responseText","_id","status","id","onerror","send","addEventListener","e","preventDefault","disabled","then","reply","catch"],"mappings":";;AGAA;;AACA;;AACA,AHFA,IAAMA,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAlB;AACO,ACDA,ACAP,IFCWC,ACDES,UAAU,GAAG,CDCD,GAAG,IAAIR,CCDnBQ,GDCe,CAASR,IAAI,CAACC,CCDhB,EDCW,CCDL,IDCkB,QAAtB,CAArB;AGGP,AFHI;AEIJ,AHHO,ACAP,ACAA,ICGMwD,AHHKvD,AEALyB,EDAAlB,ECAI,GAAGZ,GCGG,GAAG,AFHF,ECAI,CDAD,ACAEC,EFAO,GAAG,CGG1B2D,GHH8BzD,ACA9BS,IDA0B,AEAnB,CFA4BT,AEAL,ECGjB,EHH0B,CGGpB,AHHqBC,CCA1B,CCAP,CFA4B,AEAzC,CDA0B,IDA4B,UAAtB,CAAzB;AGIL,AFHE,ACAJ,IAAM2B,ECGE8B,EFHEhD,CCAC,GAAGb,ECGE,GAAGA,AFHA,GAAG,ACAA,CAACC,ICGI,CAACA,QDHd,CAAuB,ICGlB,AFHIa,CEGmB,GDH5B,CDAQ,ACAtB,EDA8BD,KEGX,CAAjB,IFHoB,EAAmBH,GAAnB,EAA2B;AEI/C,AFJ+C,ACCjD,IAAMsB,ECGE8B,EDHE,GAAG9D,ECGE,GAAGA,GDHG,CAACC,ICGI,CAACA,QDHd,CDAOD,ACAgB,ICGlB,CAAuB,EDH5B,CDAe,ACA5B,CDA6BC,MEGX,CAAhB,MFHkB,CAAuBa,KAAvB,CAD6B;ADC1C,ACD0C,ACEjD,IFDaR,AECPc,IAAI,EDDCL,CCCEf,GFDU,CCD0B,EDCvB,EECL,CAACC,MFDTK,OECA,CAAuB,EFDV,GAAM,CCArBS,CCCE,CAAb,GDFiD;AEM/C,AHJEhB,AECJ,EFDIA,EECEkC,ECGE8B,GDHG,EFDE,CAACxD,AECAP,GFDV,EGIe,CHJCE,EGIE,ADHA,CAACD,QCGf8D,GHJ0B,CAACvD,CECrB,CAAuB,KCGf,CAACwD,EDHT,CCGQ,AHJF,AECpB,ECG+B,CHJkBvD,KAA7B,CAAmC,GAAnC,EAAwC,CAAxC,CAAhB;AGKA,AHJAV,ACDE,ACEN,EFDIA,EECEmC,ICGI+B,EFLAlD,CDCG,CGIC,AHJAL,CECC,ECGEV,AHJb,ACDW,CCEGA,EFDEK,ACDFK,GAAZ,EEKmB,AFLFV,CEKGC,ADHA,CAACkC,MDFI,CAAClC,IDCM,CGIrB,AHJsBO,CGIC,GDHtB,CAA0B,GDFrB,CAAuBM,EDC1B,CGIH,CAAb,CHJiDL,ACD9B,EAA8BM,GDCjC,CAAuC,AECzC,CDFK,ACEvB,EFDoB,CCDyCC,CDCG,CAA5C,CAAhB,KCDiE,CAACD,KAAD,CAAR,GAAkBF,UAAxD;AEMnB,AHL+D,ACA9D,ACEL,IAAMuB,CDLF,GEQMN,EDHE,ECGE,CDHC9B,ECGEiE,IAAI,CAACC,CDHC,CAAC/B,MCGP,CAAc,MAAd,EAAsBpB,CDHxB,CAA0B,GCGrC,IDHW,CAAf;ACII,AHLH,AEED,CFLO,GEKDsB,ICGIN,KAAK,CDHC,ECGEkC,CDHCjE,GCGG,CAACkE,IDHI,CAAC/B,GCGV,CAAc,OAAd,EAAuBpB,GDHtB,CAA0B,CCGzC,ODHe,CAAnB;ACII,AFLA,QEKMoD,AFLAlD,SAAS,CEKC,EFLE,CEKCgD,IAAI,CAACC,QAAL,CAAc,IFLdpD,KAAD,EAAQG,CEKP,EAA4BF,KAA/C,EFLkB,EAAmBR,GAAnB,EAA2B;AEM7C,AFN6C,ACG1C,IAAM+B,ICGHN,IAAI,EDHS,CCGNiC,EDHS,ECGL,CAACC,MDHT5B,ECGI,CAAc,MAAd,AFLGtC,CCEM,CCGae,EDHP,GCG5B,CFLwB,CAACd,aAAT,CAAuBa,KAAvB,CAD6B;AEO7C,AFP6C,ACI7CoB,EAAAA,MCGMd,EFNCL,CCGE,CCGC,ADHAwB,GCGG0B,AFPgC,IEO5B,ADHjB,CCGkBC,ADHC,QCGN,CAAc,CDHR1B,GAAG,ECGT,ADHa,ECGSzB,IFN5BA,CEMP,IFP6C;AEQ7C,ADHE,QCGIkB,ADHAO,GAAG,CAACC,CCGC,GAAGwB,IAAI,CAACC,ADHb,CAAcxB,OCGN,CAAc,ADHtB,CAAuB,MCGf,EAAuB3B,CDH/B,CAAJ,EAAuC,CCGzC;AACA,AFPE,ACIEyB,MAAAA,ECGE4B,CDHC,CDJDrD,ACIE0B,KCGK,AFPF,GEOKwB,AFPF1D,CCIV,CAAcoC,CDJhB,CEOkB,CAACuB,AFPFlE,GCIf,CAAqB,ICGT,AFPW,CEOG,AFPFC,ICIxB,KCGY,EAAyBc,EFPtB,CAAuBD,EEO1C,GFPmB,EAA8BC,KAA9B,GAAsCC,QAAQ,CAACD,KAAD,CAAR,GAAkBE,UAAxD;AEQnB,AFPC,ACIE,KDPH,GEUMoD,MAAM,oCAA6BvC,IAA7B,oBAA2CC,KAA3C,yBAA+DoC,UAA/D,mBAAkFnC,IAAlF,mBAA+FZ,IAA/F,oBAA6Ga,KAA7G,sBAA8HmC,OAA9H,CAAZ;AACA,WAAO,IAAIE,OAAJ,CAAa,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,AFPFxE,ACEG,IDFHA,MEOQyE,EFPA,CEOG,AFPFxE,GEOK,IAAIyE,MFPlB,CAAuB,OEOT,EAAZ,KFPF,EAAuCxD,OAAvC,GAAiD;AEQ/CuD,AFR+C,ACGhD,GAJD,GCSEA,GAAG,CAACE,GFRiD9D,CEQrD,CAAS,MAAT,CFR8D,CEQ7CmD,AFR8C,GEQ/D,EAAsB,GFRwC,CEQ9D,CFRyE,CAAX,EAAc,CAAd,CAAf;AES/CS,AFT+C,ACIjDrC,EAAAA,GDJA,CESEqC,EDLI,CCKD,ADLElC,CCKDqC,MDLN,CAAgB,SCKd,CAAqB,ADLPhC,KAAK,EAAI,OCKvB,EAAqC,mCAArC;ADJE,QAAIA,KAAK,CAACH,SAAN,CAAgBC,QAAhB,CAAyB,SAAzB,CAAJ,EAAyC;ACK3C+B,AFTFzE,ACKM4C,IDLN5C,EESEyE,ADJI7B,GCID,CAACiC,CDJK,CDLH,ACKIpC,CDLHxC,GESP,GAAa,EDJT,CAAgB0C,IDLtB,CAAuB,CCKjB,CAAuB,ECIJ,ODJnB,GDLN,EAAuCzB,OAAvC,GAAiD;AESxB,AFTwB,ACM5C,aDNkDD,SAAS,CAAC,GEUnC6D,IAAI,CAACC,AFV6B,EAAW,CAAX,EEUlC,AFVgD,CEUrC,AFVuB,CAAf,IEUHC,YAAhB,CADL;AAAA,AFTwB,KAAjD,OEUWC,GADc,eACdA,GADc;AAAA,AFR1B,ACKM,GDlBT,CAFgC,CAiB9B,OEOkBjD,IADS,eACTA,IADS;AAAA,ADFtB,GAJH,SCOsBZ,IADG,eACHA,IADG;ADDzBiB,EAAAA,UAAU,CAACE,OAAX,CAAoB,UAAAM,CAAC,EAAI;ACGrB,AFPN,ACKIA,IAAAA,CAAC,CDLC1B,ACKA2B,MCEI,GDFN,CDLY,CEODoC,CDFG,CDLC,CCKf,GCEM,KAAgB,AFPpB/D,GEOA,EAAyB,KFPZ,GAAM;AEQjBoD,AFPN,ACKE1B,IAAAA,CAAC,CAACE,EDLE3B,EEOAmD,CDFJ,CDLQ,ACKAvB,GDLG,CAAC,CEOD,CAAC,CDFZ,GAAkB,CDLP,EAAU,GCKrB,IDLW,EAAmB,OAAnB,EAA4B,OAA5B,EAAqC,OAArC,EAA8C,OAA9C,EAAuD,OAAvD,EAAgE,OAAhE,EAAyE,OAAzE,CAAb;AEOeoB,ADDd,GAHD,SCIeA,OAAO,EAAE,aAAV;AAAyBe,AFNvC,ACMA,MAAIlC,EDNE5B,GCMG,CCA8B8D,EAAE,AFN7B,ACMA,CAAZ,CCA2CF,CFN5B,SAAT5D,MAAS,GAAM;AEMP,AFLZ,UAAMC,CEKK,CAAP,GFLO,GAAGF,IAAI,CAACG,OAAL,CAAavB,QAAQ,CAACC,aAAT,CAAuB,OAAvB,EAAgCc,KAA7C,CAAd;AEK+C,AFJ/C,ACKF,MAAI,CAACkB,ECFD,CFHEX,ECKI,CAAC4B,ECAF,AFLE,GAAG9B,CEKD,EDAR,CDLa,ACKE+B,CDLD3B,CEKD0D,GDAlB,EDLc,ACKa,CCAd,EFLa,CAAxB,EEK2B,AFLAlF,GEKpB,EAAyB,GFLG,CAACC,aAAT,CAAuB,OAAvB,EAAgCc,KAAhC,GAAwCK,IAAI,CAACE,KAAK,GAAG,CAAT,CAA5C;AEMvBiD,AFLL,ACKCtB,IAAAA,CDRF,ICQO,CCADsB,EDAI,CAAR,ICAW,CAAC;AAACH,ADCbhB,IAAAA,QCDagB,CDCJ,CAAC,CAAD,EAAI,ECDO,EAAE,UAAV,sBDCH,CAAT;ACDkCpC,AFJpC,ACMC,QDNKP,IEI8BO,GFJvB,CEI2B,EAAJA,AFJpB,IEIF,KFJRP,OAAU,GAAM;AEIoBL,AFHxC,UAAME,EEGkCF,GFH7B,CEGiC,EAAJA,AFH1BA,IAAI,CAACG,OAAL,CAAavB,QAAQ,CAACC,aAAT,CAAuB,OAAvB,EAAgCc,KAA7C,CAAd;AEGY,AFFZ,ACKF,MAAI,CAACK,GDLCE,CEEO,ADGJ,CCHH,ADGI4B,GDLC,GAAG,CAAZ,CCKG,CD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","file":"book.198dd6d2.js","sourceRoot":"..","sourcesContent":["const dateInput = document.querySelector('#date');\r\nexport let dateTodayplus1 = new Date(Date.now() + 86400000);\r\nexport let dateFortnightplus1 = new Date(Date.now() + 1296000000);\r\n\r\nexport const minmaxDate = () => {\r\n    dateInput.min = dateTodayplus1.toISOString().split('T')[0];\r\n    dateInput.max = dateFortnightplus1.toISOString().split('T')[0];;\r\n};\r\n\r\n\r\n\r\n","export const selectBtns = () => {\r\n    // party buttons\r\nconst selectParty = () => {\r\n    const increment = (field, increment, max) => {\r\n      let {value} = document.querySelector(field);\r\n      if (value < max) document.querySelector(field).value = parseInt(value) + increment\r\n    }\r\n    \r\n    const decrement = (field, decrement, min) => {\r\n      let {value} = document.querySelector(field);\r\n      if (value > min) document.querySelector(field).value = parseInt(value) - decrement\r\n    }\r\n    \r\n    document.querySelector(\".incPartyBtn\").onclick = () => increment('#party', 1, 8)\r\n    document.querySelector(\".decPartyBtn\").onclick = () => decrement('#party', 1, 2)\r\n  }\r\n  \r\n  //time selection\r\n  const selectTime = () => {\r\n    const time = [\"17:00\", \"17:30\", \"18:00\", \"18:30\", \"19:00\", \"19:30\", \"20:00\", \"20:30\", \"21:00\"]\r\n    const plus30 = () => {\r\n      const index = time.indexOf(document.querySelector('#time').value)\r\n      if (index < time.length-1) document.querySelector('#time').value = time[index + 1]\r\n    }\r\n    const minus30 = () => {\r\n      const index = time.indexOf(document.querySelector('#time').value)\r\n      if (index > 0) document.querySelector('#time').value = time[index - 1]\r\n    }\r\n    document.querySelector(\".incTimeBtn\").onclick = plus30\r\n    document.querySelector(\".decTimeBtn\").onclick = minus30\r\n  }\r\n  \r\n  //restaurant selection\r\n  const selectRestaurant = () => {\r\n    const rest = [\"Glensgaich\", \"Tanyrisiau\"]\r\n    const inc = () => {\r\n      const index = rest.indexOf(document.querySelector('#restaurant').value)\r\n      if (index < rest.length-1) document.querySelector('#restaurant').value = rest[index + 1]\r\n    }\r\n    const dec = () => {\r\n      const index = rest.indexOf(document.querySelector('#restaurant').value)\r\n      if (index > 0) document.querySelector('#restaurant').value = rest[index - 1]\r\n    }\r\n    document.querySelector(\".incRestBtn\").onclick = inc\r\n    document.querySelector(\".decRestBtn\").onclick = dec\r\n  }\r\n\r\n  selectRestaurant()\r\n  selectTime()\r\n  selectParty()\r\n}","import { dateFortnightplus1, dateTodayplus1 } from './date';\r\n\r\nconst name = document.querySelector('#name');\r\nconst email = document.querySelector('#email');\r\nconst date = document.querySelector('#date');\r\nconst time = document.querySelector('#time');\r\nconst party = document.querySelector('#party');\r\nconst formBoxes = document.querySelectorAll('#bookForm div');\r\nconst inputs = document.querySelectorAll('input');\r\nconst errorBoxes = document.querySelectorAll('.error');\r\n\r\nexport const checkError = () => {\r\n    formBoxes.forEach( div => { \r\n      if (div.classList.contains('invalid')) {\r\n        div.classList.remove('invalid')\r\n      };\r\n    });\r\n    inputs.forEach( input => { \r\n        if (input.classList.contains('invalid')) {\r\n          input.classList.remove('invalid')\r\n        };\r\n      });\r\n    errorBoxes.forEach( p => {\r\n      p.innerHTML = '';\r\n      p.style.display = 'none';\r\n    });\r\n    let error = 0;\r\n    if (!party.validity.valid) {\r\n      error = 1;\r\n      showError(5, 'Please select the number of people');\r\n    }  \r\n    if (!time.validity.valid) {\r\n        error = 1;\r\n        showError(4, 'Please select the time you would like to book');\r\n      }\r\n    if (!date.validity.valid) {\r\n        error = 1;\r\n        showError(3, `Please input a date (dd/mm/yy) between ${dateTodayplus1.getDate()}/${dateTodayplus1.getMonth() + 1}/${dateTodayplus1.getFullYear()} and ${dateFortnightplus1.getDate()}/${dateFortnightplus1.getMonth() + 1}/${dateFortnightplus1.getFullYear()}`);\r\n      } \r\n    if (!email.validity.valid) {\r\n        error = 1;\r\n        showError(1, 'Please enter your valid email address');\r\n      } \r\n    if (!name.validity.valid) {\r\n        error = 1;\r\n        showError(0, 'Please enter your name');\r\n      }\r\n    return error;\r\n  }\r\n  \r\n  const showError = (index, msg) => {\r\n    let errorMsg = msg;\r\n    errorBoxes[index].innerHTML = errorMsg;\r\n    errorBoxes[index].style.display = 'block';\r\n    if (index == 0) {\r\n        document.querySelector('#name').classList.add('invalid');\r\n    }\r\n    if (index == 1) {\r\n        document.querySelector('#email').classList.add('invalid');\r\n    }\r\n    if (index == 3) {\r\n        document.querySelector('#date').classList.add('invalid');\r\n    }\r\n    formBoxes[index].scrollIntoView();\r\n  }\r\n  \r\n  ","import { minmaxDate } from './date';\r\nimport { selectBtns } from './selectBtns'\r\nimport { checkError } from './validation';\r\n\r\n//form submit\r\nconst submitForm = () => {\r\n  const bookForm = document.querySelector('#bookForm');\r\n  const bookBtn = document.querySelector('#bookBtn');\r\n\r\n  const postBooking = (url) => {    \r\n    const form = document.querySelector('#bookForm');\r\n    const name = form.elements[\"name\"].value;\r\n    const email = form.elements[\"email\"].value;\r\n    const restaurant = form.elements[\"restaurant\"].value;\r\n    const date = form.elements[\"date\"].value;\r\n    const time = form.elements[\"time\"].value;\r\n    const party = form.elements[\"party\"].value;\r\n    const message = form.elements[\"message\"].value;\r\n    const params = `form-name=booking&name=${name}&email=${email}&restaurant=${restaurant}&date=${date}&time=${time}&party=${party}&message=${message}`;\r\n    return new Promise ((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest;\r\n      xhr.open('POST', url, true);\r\n      xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\r\n      xhr.onload = function(){\r\n        const {_id, date, time} = JSON.parse(this.responseText);\r\n        if (this.status === 200) {\r\n          resolve({message: \"bookSuccess\", id: _id})}\r\n        else if (this.status === 403) {\r\n          resolve({message: \"bookFull\", date, time})\r\n        }\r\n        else {reject({message: \"bookFail\"})}\r\n      };\r\n      xhr.onerror = function(){reject({message: \"bookFail\"})};\r\n      xhr.send(params);\r\n    })\r\n};\r\n\r\n  bookForm.addEventListener('submit', (e) => {  \r\n      e.preventDefault();\r\n      const error = checkError();\r\n      if (error === 0) {\r\n        bookBtn.value = \"Sending...\";\r\n        bookBtn.disabled = true;\r\n        postBooking('/api/bookings')\r\n          .then((reply) => {\r\n            const { message, id, date, time } = reply\r\n            document.querySelector('#id').innerHTML = `<a href=\"booking.html?${id}\">${id}</a>`\r\n            document.querySelector('#date').innerHTML = date\r\n            document.querySelector('#time').innerHTML = time\r\n            document.querySelector(`.${message}`).classList.add(\"modalActive\")\r\n          })\r\n          .catch(() => document.querySelector(\".bookFail\").classList.add(\"modalActive\"))\r\n        }\r\n  });\r\n}\r\n  \r\n//call functions\r\nminmaxDate()\r\nselectBtns()\r\nsubmitForm()\r\n\r\n\r\n"]}