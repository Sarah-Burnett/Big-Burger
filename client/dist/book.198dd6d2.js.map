{"version":3,"sources":["js/date.js","js/validation.js","js/postForm.js","js/book.js"],"names":["dateInput","document","querySelector","dateTodayplus1","Date","now","dateFortnightplus1","minmaxDate","min","toISOString","split","max","name","email","date","time","party","formBoxes","querySelectorAll","inputs","errorBoxes","checkError","forEach","div","classList","contains","remove","input","p","innerHTML","style","display","error","validity","valid","showError","getDate","getMonth","getFullYear","index","msg","errorMsg","add","scrollIntoView","postForm","url","form","elements","value","restaurant","message","params","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","onload","JSON","parse","responseText","_id","status","onerror","send","checkRestaurant","restaurantBtns","background","selectRestaurant","item","addEventListener","btn","checkTime","timeContainer","hourContainer","hourBtns","timeBtns","timeTxt","timeRadio","hours","selectTime","changeTime","backTime","checkParty","partyBtns","selectParty","submitForm","bookForm","submitBtn","e","preventDefault","disabled","then","reply","catch"],"mappings":";;AGAA;;AACA;;AACA,AHFA,IAAMA,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAlB;AACO,AEDA,ADAP,IDCWC,AEDEyC,QAAQ,GAAG,GFCC,GAAG,GEDfA,CFCmBxC,IAAJ,CAASA,EEDb,CAACyC,CFCgB,CAACxC,CEDlB,EFCa,AEDJ,KFCiB,QAAtB,CAArB;AGGP,ADHI,MAAMyC,IAAI,GAAG7C,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAb;ACIJ,AHHO,AEAH,ADAJ,IEGMiE,AHHK7D,ACALM,ECAIA,EDAA,ECAI,CDADX,ECAI6C,IAAI,CAACC,CCGD,AFHA,CAAC7C,EEGE,AHHK,GAAG,CEAf,CAAc,EFAKE,EGG9B+D,EHH0B,AEAf,ADAJ,CDA4B/D,ACAL,CCAG4C,GFAM,CAAC3C,CEA1C,CDAS,CDA4B,ACAzC,IEGwB,CHH8B,EGGxB,QHHE,CAAzB;AGIL,ADHE,ADAJ,IAAMQ,EEGEuD,ADHEvD,GDAC,ECAI,CDADZ,ECAI6C,IAAI,CAACC,CCGD,AFHA,CAAC7C,EEGED,IDHP,CAAc,GCGC,CAACiB,EFHpB,CCAI,ADAmB,ECAI8B,KAArC,CDAU,CAAd,IEGyB,CAA0B,mBAA1B,CAAvB;AAEAoB,ADJE,ADAJ,EEIEA,EFJItD,ECAImC,EDAA,GAAGhD,KEIG,ADJI,CCIH,CAAD,CAAd,ADJqB6C,ADAF,CEIDhB,AFJE5B,GCAK,CAAC6C,CCI1B,CAAwBsB,MDJH,CAAc,ADAxB,CAAuB,EEIlC,GAAqC,EFJ1B,CAAb,GCAuB,EAA4BrB,CCIjD,IDJE;AFAG,AECH,ADAJ,IDDazC,ACCPQ,ECAID,EDAA,ECAI,CDADb,ECAI6C,CFDM,GAAG,AECL,CAACC,CDAD,CAAC7C,MDDTK,AECI,CAAc,MAAd,ADAJ,CAAuB,CCAGyC,CFDb,GAAM,CEC5B,cDAS,CAAb;AEKE,AHLEhD,AECA,ADAJ,EDDIA,ECCEgB,EEIEsD,ADJEvD,GDAC,CCAG,CFDD,CAACP,ACCAP,CCAG6C,EFDb,EECiB,CFDD3C,AECE4C,EDAA,CAAC7C,CEIC,GAAG,CDJV,CAAc,KFDG,CAACO,AEClB,CCIT6D,AFJM,CCAyBtB,ADAF,KCAjC,IFDgB,GAA6BtC,GGKtB,CAAC6D,CHLR,CAAmC,EGK5B,CHLP,ACCN,CEIoBhC,AFJlC,CDD4D,CAAxC,CAAhB,EGKuB,EAAiB;AACxCgC,AHLAvE,AECA,ADAJ,EDDIA,EGKAuE,AFJEtD,ECAID,ECIF,CAACwD,EHLI,AECE,CFDD7D,CCCC,CCAGmC,CFDd,CCCc7C,EDDEK,AECE,CAACyC,KDAG,CEItB,AFJuB7B,CEID,CDJR,CAAc,KCI5B,EAA+B,ADJjB,CFDoB,CAACT,AECEuC,IDAvB,CCAd,ADAwC,KEIH,CHLrB,GAAiCtC,KAAjC,CAAuC,ACCzC,CAAlB,EDDoB,EAA4C,CAA5C,CAAhB;AGME0D,AHN6D,AEE/D,ADAJ,IAAMjD,EEIAiD,ADJIlB,IDAE,GCAK,ADAFjD,GCAK6C,ICIA,ADJI,CCIHxB,ADJIyB,ADAF,CAAC7B,MEIlB,CAAyB,ADJX,CAAc,QDAnB,CEIgBuD,ADJX,ADAqB,ECAIzB,CCIX,IDJ9B,ADAW,CAAf;AEIkC,AHLjC,AEEG,ADAJ,CDLO,GCKD5B,ECAI+B,MAAM,EDAA,CEGsBsB,EFHnBxE,CEGsB,CAAC6B,KAAJ,CAAUuC,AFHrB,CAACnD,SEGU,GAAuB,IFH1C,CAA0B,IEGX,CDHWN,GDA1B,CCAH,ADAhB,oBCA2DC,KAA3C,yBAA+DoC,UAA/D,mBAAkFnC,IAAlF,mBAA+FC,IAA/F,oBAA6GC,KAA7G,sBAA8HkC,OAA9H,CAAZ;ACG8B,ADF9B,OCEE,EDFK,IAAIE,OAAJ,CAAa,UAACC,OAAD,EAAUC,MAAV,EAAqB;ACGvCc,ADFA,ADAC,IAAM/C,EEEP+C,EDFMb,GAAG,GAAG,ADAK,GAAG,CCAJC,ECEF,CAACjB,KAAD,AFFPlB,CEEP,CAAsBS,IDFV,CCEZ,CAA4BuC,ADF5B,EDAoB,GAAM,KEE1B,GAAyC,SAAzC;AACD,ADFCd,ADAFtC,EAAAA,ECAEsC,CCDF,EDCK,CAACE,GDAG,CCAP,ADAQnC,CCAC,MAAT,ADAF,CAAmB,CCAAuB,GAAjB,EAAsB,IAAtB,ADAiBtB,GAAG,EAAI;AEG3B,ADFGgC,ADAA,GEHJ,CDGIA,GAAG,CAACG,ADAAnC,GAAG,CAACC,SAAJ,CAAcC,ECAlB,CAAqB,KDAjB,CAAuB,QCA3B,CDAI,CCAiC,ADArC,EAAuC,iCCAvC;ADCEF,MAAAA,GAAG,CAACC,SAAJ,CAAcE,MAAd,CAAqB,SAArB;AEGN0C,ADHIb,ADCC,EEELa,EDHIb,GAAG,CAACI,MAAJ,ECGU,CAACrC,ADHE,OCGjB,CAAuBgD,IDHI,YCG3B;AACD,ADJ4B,CCT7B,EAeA,qBDLkCV,IAAI,CAACC,KAAL,CAAW,KAAKC,YAAhB,CADL;AAAA,ADCtB,UCAQC,GADc,eACdA,GADc;AAAA,ADExB,GAJD,OCGgBjD,IADS,eACTA,IADS;ACO7B,ADP6B,ADGzBK,EAAAA,EEIEuD,IFJI,CAACpD,CCFeP,GCMX,CDPc,ECOX,AFJd,CAAgB,QEId2D,EFJc/C,ECFMZ,GDED,CCHI,CCOX,AFJW,GEIL;AACtB,AFJM,MEIA4D,EFJIhD,KAAK,CAACH,KEIG,GAAGvB,CFJZ,CAAgBwB,MEII,CAACvB,CFJrB,CAAyB,SAAzB,CAAJ,CEIgB,CAAuB,AFJE,iBEIzB,CAAtB;AACA,ADPM,ADGEyB,MEIFiD,AFJEjD,ICHE,CDGG,CAACH,GCHCwC,ICOI,EDPT,ADGF,CEIe/D,AFJCyB,ICHE,EDGlB,CCHF,ADGyB,CEIA,CAACxB,ADPD,ODGvB,MEIe,CAAuB,iBAAvB,CAAvB;AACA,ADPQmD,ADGD,MEIDwB,EDPExB,MCOM,CDPC,ECOEpD,QAAQ,CAACiB,gBAAT,CAA0B,sBAA1B,CAAjB,2CDPqG6C,GAAtF,gBAA8FA,GAA9F,iDAAP;ACQR,ADR+J,MCQzJe,CDTA,MAEK,CCOG,GAAG7E,ADPF,KAAK+D,GCOK,CAAC9C,EDPX,KAAgB,GAApB,EAAyB,ICOnB,CAA0B,uBAA1B,CAAjB;AACA,ADPQmC,ADCD,MEMD0B,EDPE1B,KCOK,EDPE,CCOCpD,QAAQ,CAACiB,gBAAT,CAA0B,4BAA1B,CAAhB,SDPyEJ,IAA1D,uBAA2EC,IAA3E,qDAAP;ACQR,ADPO,ADCF,GAJH,GEUIiE,CDTK,MAGA,ECMI,GAAG/E,QAAQ,CAACiB,gBAAT,CA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","file":"book.198dd6d2.js","sourceRoot":"..","sourcesContent":["const dateInput = document.querySelector('#date');\r\nexport let dateTodayplus1 = new Date(Date.now() + 86400000);\r\nexport let dateFortnightplus1 = new Date(Date.now() + 1296000000);\r\n\r\nexport const minmaxDate = () => {\r\n    dateInput.min = dateTodayplus1.toISOString().split('T')[0];\r\n    dateInput.max = dateFortnightplus1.toISOString().split('T')[0];;\r\n};\r\n\r\n\r\n\r\n","import { dateFortnightplus1, dateTodayplus1 } from './date';\r\n\r\nconst name = document.querySelector('#name');\r\nconst email = document.querySelector('#email');\r\nconst date = document.querySelector('#date');\r\nconst time = document.querySelector('input[name=\"time\"]');\r\nconst party = document.querySelector('input[name=\"party\"]');\r\nconst formBoxes = document.querySelectorAll('#bookForm div');\r\nconst inputs = document.querySelectorAll('input');\r\nconst errorBoxes = document.querySelectorAll('.error');\r\n\r\nexport const checkError = () => {\r\n    formBoxes.forEach( div => { \r\n      if (div.classList.contains('invalid')) {\r\n        div.classList.remove('invalid')\r\n      };\r\n    });\r\n    inputs.forEach( input => { \r\n        if (input.classList.contains('invalid')) {\r\n          input.classList.remove('invalid')\r\n        };\r\n      });\r\n    errorBoxes.forEach( p => {\r\n      p.innerHTML = '';\r\n      p.style.display = 'none';\r\n    });\r\n    let error = 0;\r\n    if (!party.validity.valid) {\r\n      error = 1;\r\n      showError(5, 'Please select the number of people');\r\n    }  \r\n    if (!time.validity.valid) {\r\n        error = 1;\r\n        showError(4, 'Please select the time you would like to book');\r\n      }\r\n    if (!date.validity.valid) {\r\n        error = 1;\r\n        showError(3, `Please input a date (dd/mm/yy) between ${dateTodayplus1.getDate()}/${dateTodayplus1.getMonth() + 1}/${dateTodayplus1.getFullYear()} and ${dateFortnightplus1.getDate()}/${dateFortnightplus1.getMonth() + 1}/${dateFortnightplus1.getFullYear()}`);\r\n      } \r\n    if (!email.validity.valid) {\r\n        error = 1;\r\n        showError(1, 'Please enter your valid email address');\r\n      } \r\n    if (!name.validity.valid) {\r\n        error = 1;\r\n        showError(0, 'Please enter your name');\r\n      }\r\n    return error;\r\n  }\r\n  \r\n  const showError = (index, msg) => {\r\n    let errorMsg = msg;\r\n    errorBoxes[index].innerHTML = errorMsg;\r\n    errorBoxes[index].style.display = 'block';\r\n    if (index == 0) {\r\n        document.querySelector('#name').classList.add('invalid');\r\n    }\r\n    if (index == 1) {\r\n        document.querySelector('#email').classList.add('invalid');\r\n    }\r\n    if (index == 3) {\r\n        document.querySelector('#date').classList.add('invalid');\r\n    }\r\n    formBoxes[index].scrollIntoView();\r\n  }\r\n  \r\n  ","export const postForm = (url) => {    \r\n    const form = document.querySelector('#bookForm');\r\n    const name = form.elements[\"name\"].value;\r\n    const email = form.elements[\"email\"].value;\r\n    const restaurant = form.elements[\"restaurant\"].value;\r\n    const date = form.elements[\"date\"].value;\r\n    const time = form.elements[\"time\"].value;\r\n    const party = form.elements[\"party\"].value;\r\n    const message = form.elements[\"message\"].value;\r\n    const params = `form-name=booking&name=${name}&email=${email}&restaurant=${restaurant}&date=${date}&time=${time}&party=${party}&message=${message}`;\r\n    return new Promise ((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest;\r\n      xhr.open('POST', url, true);\r\n      xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\r\n      xhr.onload = function(){\r\n        const {_id, date, time} = JSON.parse(this.responseText);\r\n        if (this.status === 200) {\r\n          resolve(`Booking successful. <br> Your booking reference is <br><a href=\"./booking.html?id=${_id}\">${_id}</a><br> Looking forward to seeing you soon`)}\r\n        else if (this.status === 403) {\r\n          resolve(`Booking full at your selected time and date.<br>Date: ${date}<br>Time: ${time}<br> Please update booking for a different time`)\r\n        }\r\n        else {reject('Booking error. <br> Please try again or give us a call')}\r\n      };\r\n      xhr.onerror = function(){reject(\"Booking error. <br> Please try again or give us a call\")};\r\n      xhr.send(params);\r\n    })\r\n};","import { minmaxDate } from './date';\r\nimport { checkError } from './validation';\r\nimport { postForm } from './postForm';\r\n\r\n//restaurant selector \r\nconst checkRestaurant = () => {\r\n  const restaurantBtns = document.querySelectorAll('.restaurant label');\r\n\r\n  restaurantBtns[0].style.background = \"#205909\";\r\n  \r\n  const selectRestaurant = (item, index) => {\r\n    item.addEventListener('click', () => {\r\n      restaurantBtns.forEach ( btn => btn.style.background = \"#F5F5F5\");\r\n      restaurantBtns[index].style.background = \"#205909\";\r\n    });\r\n  };\r\n  \r\n  restaurantBtns.forEach(selectRestaurant);\r\n}\r\n\r\n// time selector\r\nconst checkTime = () => {\r\n  const timeContainer = document.querySelector('#time-selection');\r\n  const hourContainer =  document.querySelector('#hour-selection')\r\n  const hourBtns = document.querySelectorAll('#hour-selection span');\r\n  const timeBtns = document.querySelectorAll('#time-selection label');\r\n  const timeTxt = document.querySelectorAll('#time-selection label span');\r\n  const timeRadio = document.querySelectorAll('#time-selection input[type=\"radio\"]');  \r\n\r\n  const hours = [\r\n    [\"12:00\", \"12:30\", \"13:00\", \"13:30\", \"14:00\"],\r\n    [\"14:00\", \"14:30\", \"15:00\", \"15:30\", \"16:00\"],\r\n    [\"16:00\", \"16:30\", \"17:00\", \"17:30\", \"18:00\"],\r\n    [\"18:00\", \"18:30\", \"19:00\", \"19:30\", \"20:00\"],\r\n    [\"20:00\", \"20:30\", \"21:00\", \"21:30\", \"22:00\"]\r\n  ];\r\n\r\n  const selectTime = (item, index) => {\r\n    item.addEventListener('click', () => {\r\n      timeBtns.forEach ( btn => btn.style.background = \"#F5F5F5\");\r\n      timeBtns[index].style.background = \"#205909\";\r\n    });\r\n  };\r\n\r\n\r\n  const changeTime = (item, index) => {\r\n    item.addEventListener('click', () => {\r\n      timeContainer.style.display = \"block\";\r\n      hourContainer.style.display = \"none\";\r\n      hourBtns.forEach( btn => btn.style.background = \"#F5F5F5\");\r\n      hourBtns[index].style.background = \"#205909\";\r\n      timeTxt[0].innerHTML = hours[index][0];\r\n      timeRadio[0].value = hours[index][0];\r\n      timeTxt[1].innerHTML = hours[index][1];\r\n      timeRadio[1].value = hours[index][1];\r\n      timeTxt[2].innerHTML = hours[index][2];\r\n      timeRadio[2].value = hours[index][2];\r\n      timeTxt[3].innerHTML = hours[index][3];\r\n      timeRadio[3].value = hours[index][3];\r\n      timeTxt[4].innerHTML = hours[index][4];\r\n      timeRadio[4].value = hours[index][4];\r\n      })\r\n    };\r\n  hourBtns.forEach(changeTime);\r\n  timeBtns.forEach(selectTime);\r\n };\r\n\r\n//time back button\r\n\r\nconst backTime = () => {\r\n  const timeContainer = document.querySelector('#time-selection');\r\n  const hourContainer =  document.querySelector('#hour-selection')   \r\n  document.querySelector('#timebackBtn').addEventListener('click', () => {\r\n    timeContainer.style.display = \"none\";\r\n    hourContainer.style.display = \"block\";\r\n  });\r\n}\r\n\r\n\r\n// party selection\r\n\r\nconst checkParty = () => {\r\n  const partyBtns = document.querySelectorAll('.party label');\r\n  const selectParty = (item, index) => {\r\n    item.addEventListener('click', () => {\r\n      partyBtns.forEach ( btn => btn.style.background = \"#F5F5F5\");\r\n      partyBtns[index].style.background = \"#205909\";\r\n    });\r\n  };\r\n  partyBtns.forEach(selectParty);\r\n};\r\n\r\n\r\n//form submit\r\nconst submitForm = () => {\r\n  const bookForm = document.querySelector('#bookForm');\r\n  const submitBtn = document.querySelector('input[type=\"submit\"]');\r\n\r\n  bookForm.addEventListener('submit', (e) => {  \r\n      e.preventDefault();\r\n      const error = checkError();\r\n      if (error === 0) {\r\n        submitBtn.value = \"Sending...\";\r\n        submitBtn.disabled = true;\r\n        postForm('/book')\r\n          .then((reply) => document.querySelector('#book').innerHTML = reply)\r\n          .catch(() => document.querySelector('#book').innerHTML = \"Booking error. <br> Please try again or give us a call\")\r\n      }\r\n  });\r\n}\r\n  \r\n\r\n//call functions\r\ncheckRestaurant();\r\nminmaxDate();\r\ncheckTime();\r\nbackTime();\r\ncheckParty();\r\nsubmitForm();\r\n\r\n"]}