{"version":3,"sources":["js/utilities/booking/availableDates.js","js/utilities/dom/changeInputValue.js","js/utilities/booking/submitBooking.js","js/utilities/booking/types.js","js/utilities/dom/toggleClassList.js","js/utilities/dom/toggleModal.js","js/utilities/booking/autofillForm.js","js/book.js"],"names":["getAvailableDates","today","minDate","Date","maxDate","setAvailableDates","dateInput","document","querySelector","min","toISOString","split","max","changeInputValue","input","value","setParams","form","name","elements","email","restaurant","date","time","party","message","handleSubmit","e","type","button","preventDefault","params","JSON","stringify","err","disabled","SHOW_BOOKED","SHOW_MODIFIED","SHOW_FAILED","SHOW_FULL","SHOW_CANCELLED","GET_BOOKING","POST_BOOKING","PUT_BOOKING","DELETE_BOOKING","addClassList","elem","className","classList","add","removeClassList","remove","toggleClassList","toggle","hideModal","showModal","modal","autoFillForm","data","inputs","querySelectorAll","forEach","now","addEventListener","event","target","validity","valid","day","getDayFromDate","setAvailableTimes","btn","dataset","sessionStorage","booking","parse","bookBtn","onsubmit"],"mappings":";;AOAA;;AACA;;AACA,AJFO,IAAMoC,WAAW,GAAG,aAApB;AGAP,ANAO,AEAP,ADAO,AGAA,ACAP,ILAapC,ACAAa,AGAAgC,YAAY,GAAG,CHAC,CDAC,ECAE,CDAC,IIApBA,IHAAhC,CDAAb,OIAe,CAAC8C,IAAD,EAAOC,CHAH,CAACjC,CDAA,CAACb,GCAF,EDAC,ACAOc,AGAZ,EJAgB,AIAK,GHAjB,EAAkB;AMGlD,APFC,AGAM,AFANR,AGAA,EHAAA,EEAY8B,EHANnC,GIAC4C,CHAC,CAACtC,EDAI,AIAb,GJAgB,CGAS,CCAT,EJAIL,AGAQ,IHAZ,ACAhB,CDAyBF,ACAFa,CGAvB,GACGP,CJD2B,ACA9B,EAA8BQ,CDAG,EGA3B,EFAN,AGCW,CAACP,EHD0BO,CDAtB,CAAhB,GCAA,MGCG,CAAuB+B,IAAvB,EAA6BE,SAA7B,CAAuCC,GAAvC,CAA2CF,SAA3C,CADH,GAEGD,IAAI,CAACE,SAAL,CAAeC,GAAf,CAAmBF,SAAnB,CAFH;AECM,ANAN,AEDD,ADCC,AGEA,ACFM,CJFA,AGAA,GEEMU,ADAAH,ELANlD,OAAO,AKAQ,GCAG,ANAR,AKAQ,GCAG,CNAPD,IAAJ,CAASF,AKAbqD,GCAAG,ENAkB,GAAG,CKAT,GAAM,GCAH,CAACC,ENAZ,CAAhB,CMA2B,EAAU;ACEtC,ADDC,ANAA,AGDM,AECH,IFDSpB,EGCNqB,ADACpD,GLAA,GMAK,EDAG,CCAAA,AHDQ,AECPC,GFDU,KGCH,CAACoD,IDAjB,CAAuB,EFDxB,SGCS,CAA0B,GDAlC,CAAJ,EAA6C,CCAjC,CAAf;AACAD,ANDSzD,AEDV,AGEQ,ECAPyD,ENDSzD,IMCH,CAAC2D,ENDS,EAAP3D,GMCT,CAAe,GNDR,OMCSY,KAAD,EAAW,QDAH,eAAhB,EAAiC,cAAjC;AEER,ADDE,ANFiBV,AGAZ,AEEF,ILFcA,AGANmC,IGEPzB,GNFoB,EMEf,ANFQV,AGAG,CGEVc,EHFa,EGEnB,KAAe,IAAnB,AHFK,EGEoBJ,KAAK,CAACC,KAAN,GAAc2C,IAAI,CAAC5C,KAAK,CAACI,IAAP,CAAlB;ACE3B,ADDE,ANHM,AEAR,AEGO,ACAN,CAJM,ECEN,ANDA,CIGYgC,eAAe,GAAG,SAAlBA,QGCK/C,IAAI,CAAC2D,EHDQ,CGCb,AHDchB,EGChC,EHD+B,EAAOC,SAAP,EAAqB;AGEpDxC,ADDC,ANHA,AGAM,ACGN,CJPM,GGIMiC,EGGRjC,ECCG,CAACC,AHDDsC,IAAP,CEAY,CAACtC,GHHa,ACGV,GDHa,CII9B,CAAuB,GHDtB,EEAI,CAAuB,AFCxBD,CGAJ,EAAgCwD,KJJzB,ACIK,CAACvD,MEDR,CAAJ,EAA6C,CCC9C,CAAiD,EHA7C,CAAuBsC,IAAvB,EAA6BE,CGAjC,EAA6D,MHAzD,CAAuCG,GGAmBa,GHA1D,CAA8CjB,CGAW,EAAW,MHApE,CADH,GAEGD,IAAI,CAACE,SAAL,CAAeG,MAAf,CAAsBJ,SAAtB,CAFH;AGEA,ADDA,AJHM,AEKN,CERM,AFIA,GFDM/B,EKIRgD,KAAK,CAACC,CLJW,GAAG,EKIpB,CAAaC,MLJLlD,EKIR,CAAsBmD,KAA1B,CLJwB,CKIS,ELJH;AKK7B,ALJD,ACAM,IAAM1B,EDANxB,EKICmD,ELJG,CKIA,ELJG7D,CKIA8D,CJJU,GAAG,GDAL,CAAC7D,MKIrB,GJJK,IDAO,CAAuB,WAAvB,CAAb;AKKC8D,ALJD,AGCM,IEGLA,AFHWf,EHDNrC,IAAI,GAAGD,AGCQ,GAAG,CHDP,CAACE,GKIA,CAACiD,GAAD,AFHNb,CEGX,ALJY,CAAc,MAAd,CGCW,CHDWxC,AGCVyC,KHDzB,AGCwB,EAAW;AEIlC,APNK,AEEN,ACDM,AEEHF,EAAAA,ELHSjD,AGCAqC,EDCNtB,KAAK,AGCC,GHDEH,ECDU,EDCN,CAACE,ACDQ,EHDE,GAAG,GEElB,CAAc,KFFhBd,AGCN,EDCQ,EAAuBU,KAArC,QFFgC,CAACd,KAAD,EAAW;AOO3C,APP2C,AEG3C,AEGM,ACFH,CEFJ,GAMA,AHFamD,EFHN/B,UAAU,GAAGJ,AEGQ,GAAG,CFHP,CAACE,GFFKnB,IIKjBoD,CFHO,CAAc,IGCjB,KAAb,ELH2C,AKGvB,CLHwBnD,AEE5B,CEGW,CFHiBc,AEGhB+B,GJLe,CADH,AIMb,CFH9B,CEGqCC,ECFlC,ODE2B,EAAqB;AJNR,AEI3C,ACFM,ACKN,ACFG,IFHSJ,EHDJzC,AEGFoB,GEGCwB,CFHG,GFJiC,AEI9B7B,AEGb,EDLuB,EDEN,CAACE,ACFQ,ACKV,QFHH,AEGb,CFH2B,EEIxBZ,EDNG,EDEO,EFHLL,AEG2Ba,EEIxB,ACHKyC,CDGJhD,EFJZ,EFJ2C,AKKxC,EAAoB,ODGpB,CAAuBsC,IAAvB,EAA6BE,ACH7B,SDGA,CAAuCK,MAAvC,CAA8CN,SAA9C,CADH,GAEGD,IAAI,CAACE,SAAL,CAAeG,MAAf,CAAsBJ,SAAtB,CAFH;AGEDxC,APT4C,AEK3C,AEKA,ACJA,CDAM,ACJA,KLDWH,AEIXmB,EKIC,CAACqC,CLJE,GFLiC,AEK9B3C,IAAI,CAACE,OKInB,CAA0B,ALJZ,CAAc,MAAd,EFJIf,AEIkBW,KKIpC,ALJC,EKIyC8C,APTE,OOS5C,CAAkD,UAACU,GAAD,EAAS;AAC1DA,ALJA,ACHM,EIONA,EJPY3B,CIOT,CAACmB,ALJEvC,KAAK,GAAGP,IAAI,ACHQ,CDGPE,ECHU,CIO7B,CAAqB,ILJP,CAAc,EKI5B,EAA8B,GLJhB,EAAuBJ,ACH/B,KDGN,EKIoC;AACnC,APTD,AEKA,MFLMT,AEKAmB,OAAO,EFLE,CEKCR,EFLEV,EEKE,CAACY,KFLK,CAACX,EEKX,CAAc,SAAd,CFLE,CAAuB,AEKAO,GKIvBwD,ELJlB,CKIqB,CAACC,APTJ,CAAlB,MOSkB,CAAY1D,KAA7B,EAAoCyD,GAAG,CAACC,OAAJ,CAAYzD,KAAhD;AACA,APTDT,AEKA,EFLAA,COOA,MLFO,EFLE,CAACG,GAAV,GAAgBP,OAAO,CAACQ,WAAR,GAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAhB;AOUA,APTAL,AEISY,CKCV,CPLCZ,EOWD,ALPUY,IAAI,EAAJA,CFJA,CAACN,EEIH,CFJP,GAAgBR,OAAO,CAACM,WAAR,GAAsBC,KAAtB,CAA4B,GAA5B,EAAiC,CAAjC,CAAhB;AACA,AEGeS,CFRT,GEQSA,KAAK,EAALA,KAAR;AKQR,ALRuBC,IKQnBoD,ALRmBpD,UAAU,EAAVA,EKQL,CAACqD,OAAnB,ALRQ,EKQoB;AAC3B,ALTkCpD,IAAAA,IAAI,EAAJA,IAA3B,oBKSMU,IAAI,CAAC2C,KAAL,CAAWF,cAAc,CAACC,OAA1B,CAAb;AACA,ALVwCnD,EKYzC,ELZyCA,IAAI,EAAJA,IAAjC;AAAuCC,IAAAA,KAAK,EAALA,KAAvC;AAA8CC,IAAAA,OAAO,EAAPA;AKatD,ALbQ,GAAP,CKaKmD,OAAO,GAAG,UAAhB;ALZC,CAVM;AKuBPrE,QAAQ,CAACC,aAAT,CAAuB,eAAvB,EAAwCqE,QAAxC,GAAmD,UAAClD,CAAD;AAAA,SAClD,iCAAaA,CAAb,EAAgBe,mBAAhB,EAA8BkC,OAA9B,CADkD;AAAA,CAAnD;ALXO,IAAMlD,YAAY,GAAG,SAAfA,YAAe,CAACC,CAAD,EAAIC,IAAJ,EAAUC,MAAV,EAAqB;AAChDF,EAAAA,CAAC,CAACG,cAAF;AACA,MAAMC,MAAM,GAAGf,SAAS,EAAxB;AACA,4CAAkB,SAAlB,EAA6BgB,IAAI,CAACC,SAAL,CAAeF,MAAf,CAA7B;AACA,MAAMG,GAAG,GAAG,uCAAZ;;AACA,MAAI,CAACA,GAAL,EAAU;AACT3B,IAAAA,QAAQ,CAACC,aAAT,CAAuBqB,MAAvB,EAA+BM,QAA/B,GAA0C,IAA1C;AACA,sBAAMP,IAAN,EAAYG,MAAZ;AACA;AACD,CATM","file":"book.198dd6d2.js","sourceRoot":"..","sourcesContent":["export const getAvailableDates = (today) => {\r\n\tconst minDate = new Date(today + 86400000);\r\n\tconst maxDate = new Date(today + 1296000000);\r\n\treturn { minDate, maxDate };\r\n};\r\n\r\nexport const setAvailableDates = (today) => {\r\n\tconst { minDate, maxDate } = getAvailableDates(today);\r\n\tconst dateInput = document.querySelector(\"#date\");\r\n\tdateInput.min = minDate.toISOString().split(\"T\")[0];\r\n\tdateInput.max = maxDate.toISOString().split(\"T\")[0];\r\n};\r\n","export const changeInputValue = (input, value) => {\r\n\tdocument.querySelector(input).value = value;\r\n};\r\n","import { fetch } from \"./fetch\";\r\nimport { validateBooking } from \"./validateBooking\";\r\nimport { disableButton } from \"../dom/disableButton\";\r\nimport { addSessionStorage } from \"../storage/addSessionStorage\";\r\n\r\nexport const setParams = () => {\r\n\tconst form = document.querySelector(\"#bookForm\");\r\n\tconst name = form.elements[\"name\"].value;\r\n\tconst email = form.elements[\"email\"].value;\r\n\tconst restaurant = form.elements[\"restaurant\"].value;\r\n\tconst date = form.elements[\"date\"].value;\r\n\tconst time = form.elements[\"time\"].value;\r\n\tconst party = form.elements[\"party\"].value;\r\n\tconst message = form.elements[\"message\"].value;\r\n\treturn { name, email, restaurant, date, time, party, message };\r\n};\r\n\r\nexport const handleSubmit = (e, type, button) => {\r\n\te.preventDefault();\r\n\tconst params = setParams();\r\n\taddSessionStorage(\"booking\", JSON.stringify(params));\r\n\tconst err = validateBooking();\r\n\tif (!err) {\r\n\t\tdocument.querySelector(button).disabled = true;\r\n\t\tfetch(type, params);\r\n\t}\r\n};\r\n","export const SHOW_BOOKED = \"SHOW_BOOKED\";\r\nexport const SHOW_MODIFIED = \"SHOW_MODIFIED\";\r\nexport const SHOW_FAILED = \"SHOW_FAILED\";\r\nexport const SHOW_FULL = \"SHOW_FULL\";\r\nexport const SHOW_CANCELLED = \"SHOW_CANCELLED\";\r\n\r\nexport const GET_BOOKING = \"GET_BOOKING\";\r\nexport const POST_BOOKING = \"POST_BOOKING\";\r\nexport const PUT_BOOKING = \"PUT_BOOKING\";\r\nexport const DELETE_BOOKING = \"DELETE_BOOKING\";\r\n","export const addClassList = (elem, className) => {\r\n\ttypeof elem === \"string\"\r\n\t\t? document.querySelector(elem).classList.add(className)\r\n\t\t: elem.classList.add(className);\r\n};\r\n\r\nexport const removeClassList = (elem, className) => {\r\n\ttypeof elem === \"string\"\r\n\t\t? document.querySelector(elem).classList.remove(className)\r\n\t\t: elem.classList.remove(className);\r\n};\r\n\r\nexport const toggleClassList = (elem, className) => {\r\n\ttypeof elem === \"string\"\r\n\t\t? document.querySelector(elem).classList.toggle(className)\r\n\t\t: elem.classList.remove(className);\r\n};\r\n","import { addClassList, removeClassList } from \"./toggleClassList\";\r\n\r\nexport const hideModal = () => {\r\n    if (document.querySelector(\".modal-active\")) {\r\n        removeClassList(\".modal-active\", \"modal-active\");\r\n    }\r\n}\r\n\r\nexport const showModal = (modal) => {\r\n    hideModal();\r\n    addClassList(\"nav\", \"nav-fixed\");\r\n    addClassList(modal, \"modal-active\");\r\n};\r\n\r\n","import { hideModal } from \"../dom/toggleModal\";\r\n\r\nexport const autoFillForm = (data) => {\r\n\tconst inputs = document.querySelectorAll(\"input\");\r\n\tinputs.forEach((input) => {\r\n\t\tif (input.name !== \"id\") input.value = data[input.name];\r\n\t});\r\n\tif (document.querySelector(\".modal-active\")) hideModal();\r\n};\r\n","import { setAvailableDates } from \"./utilities/booking/availableDates\";\r\nimport { changeInputValue } from \"./utilities/dom/changeInputValue\";\r\nimport { handleSubmit } from \"./utilities/booking/submitBooking\";\r\nimport { POST_BOOKING } from \"./utilities/booking/types\";\r\nimport { autoFillForm } from \"./utilities/booking/autofillForm\";\r\n\r\n//preparing form and form Buttons\r\nsetAvailableDates(Date.now());\r\ndocument.querySelector(\"#date\").addEventListener(\"onchange\", (event) => {\r\n\tif (event.target.validity.valid) {\r\n\t\tconst day = getDayFromDate;\r\n\t\tsetAvailableTimes(day);\r\n\t}\r\n});\r\n// form dropdown buttons\r\ndocument.querySelectorAll(\".dropdownBtn\").forEach((btn) => {\r\n\tbtn.addEventListener('click', () => {\r\n\t\tchangeInputValue(btn.dataset.input, btn.dataset.value);\r\n\t})\r\n}); \r\n\r\n//fill from session storage\r\nif (sessionStorage.booking) {\r\n\tautoFillForm(JSON.parse(sessionStorage.booking));\r\n}\r\n\r\n// create booking /book\r\nconst bookBtn = \".bookBtn\";\r\ndocument.querySelector(\".postBookForm\").onsubmit = (e) =>\r\n\thandleSubmit(e, POST_BOOKING, bookBtn);\r\n"]}