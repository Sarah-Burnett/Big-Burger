{"version":3,"sources":["js/booking/bookForm.js","js/booking/getBooking.js","js/booking/validation.js","js/booking/sendBooking.js","js/booking/booking.js"],"names":["availableDates","dateInput","document","querySelector","minDate","Date","now","maxDate","min","toISOString","split","max","availableTimes","event","timeInput","hours","target","validity","valid","dayOfWeek","dayofWeek","dayoffWeek","selectBtns","selectBtn","input","value","restaurantBtns","querySelectorAll","partyBtns","timeBtns","forEach","btn","addEventListener","dataset","bookForm","getBooking","id","Promise","resolve","reject","xhr","XMLHttpRequest","open","onload","status","responseText","error","send","inputs","errorBoxes","checkError","index","classList","add","scrollIntoView","removeError","oninput","remove","setParams","form","name","elements","email","restaurant","date","time","party","message","sendBooking","method","url","params","setRequestHeader","JSON","parse","_id","onerror","submitBooking","bookBtn","e","preventDefault","disabled","then","reply","innerHTML","catch","findBtn","inputForm","booking","findBooking","response","console","log","location","search","substr","onclick","editBtn","updateBtn","deleteBtn","editForm","h2","readOnly","behavior","deleteBooking"],"mappings":";;AIAA;;AACA;;AACA,AFFA,IAAMgD,MAAM,GAAG9C,QAAQ,CAACyB,gBAAT,CAA0B,OAA1B,CAAf;ADAO,AEAP,ADCA,IDDaQ,ACCPc,UDDiB,ACCP,GDDU,ACCP/C,QAAQ,CDDdiC,ACCeR,UDDF,CAACS,EAAD,EAAQ,CCCf,CAA0B,QAA1B,CAAnB;AEGA,AHHI,SAAO,IAAIC,OAAJ,CAAa,UAACC,OAAD,EAAUC,MAAV,EAAqB;ADD7C,AIKA,AHHM,AEAN,ADCO,IFHDvC,AGEA0D,ADCOR,IDDDV,GAAG,EEAA,CFAG,ACCK,ECDL,CDCQ,CFHN,ACEEC,GDFC,IGEjBiB,CDCOR,CEIb,GJPMlD,ECEY,EAAZ,AEAY,EDCQ,CCDF,EDCQ,KFHT,GAAM;AACzB,ACEEwC,AEAJ,ADCE,IDDEA,EDFIvC,AGEF0D,ADCAb,CDDC,CAACJ,EEAE,CDCC,CDDP,CAAS,AEAAxC,CDCC,CFHG,GAAGA,ACEhB,CCCF,ECDmB,CAACC,IHFM,CAACA,QGEhB,CAAuB,IHFhB,CAAuB,MGE9B,CHFO,AGEpB,CHFE,ACEwCiC,EAAtC,GAA4C,IAA5C;ADDF,AIMJ,ADJE,ADCEY,EAAAA,EEGEsC,EJNIlF,AGEFwD,EDCE,CAAC9B,CCDC,CCIC,EJNI,AGEF6B,CCICzD,EJNI,AEGhB,CCDe,ADCC,CCDA2D,EHFIxD,EIMA,CAACF,CJNL,CAASE,CGEd,CAAc,ADCRmB,EFHY,CAAClB,EEGd,CFHS,AGEd,CDCa6C,CCDS1B,CCIrB,CAAuB,CJNG,CEGtB,CCDlB,CDCoC,KFHlB,CAAhB,AIMY,CAAhB;AJLI,ACCEe,AECJ,ADCI,IDFAA,EDDIjC,AGEFuD,CFDC,CAACnB,ACEA,CAACnB,ECDE,EHFI,CCCX,AECUmC,ADCA,CAAC1C,CFHG,CCCD,CECC,CAAC4C,CHFGxD,GEGb,CFHS,AEGMa,CFHGb,EGEb,CAAc,CHFG,ACCJ,ACEvB,CFH4BC,CEGD,EFHJ,EGEb,EAAuBmB,CHFG,IGExC,MHFkB,CAAhB;AACAxB,AIMJ,AHLQ,AECN,ADCM6C,EFHJ7C,EIMEsF,EDJExB,ADCAjB,IDFI,CDDC,AEGA,CFHCtC,CIMC,CFHC,CFHZ,ACCaoC,CGKC,ADJA,EHFExC,AEGZ,CCDauD,EFDT,EECa,CAACE,CHFC,AIMrB0B,CJNsB9E,ACCA,GAApB,EAAyB6B,CECZ,CAAc,CCIjB,CAACkD,EJNC,CCCoB,CAAC,CDDC9E,EIMxB,EAAa,AHLemC,CDD1B,AGEC,CHF2B,CGECpB,EHF7B,EAAiC,CAAjC,AGElB,CHFE,GCCoC,CAAP,CAAzB,KACKc,MAAM,CAAC;ADDhBtC,AIMFuF,AHLmB1C,AECnB,ADCMG,EFHJhD,AIMFuF,IDJMxB,ADCAf,EDFaH,CGKZ,CDJG,CHFC,CAACnC,AIMF8D,CHLc,AECXd,EHFX,ACCwB,CGKZ,AFHE,CEGDe,ADJE,ADCAvB,CFHC5C,AGEAsD,ICIR,AFHM,CEGK2B,AFHf,CAAkBpC,CFHC,CAAC3C,AGEb,CAAc,GCIjB,CAAV,EDJa,ADCP,CAA4B4C,CCDC5B,EHFjB,AEGZ,CAAgC,EFHEf,AGExC,KHFkB,CAA4B,GAA5B,EAAiC,AEG7C,CFHY,CAAhB;AAAoD,AIOtD,AHNkB,AEElB,ADCMsC,MEGAA,ADJAiB,ADCAjB,CDHW,CAAN,EEED,ECIE,AFHA,CCDCW,ADCAR,EEGEjD,EDJE,CAAC2D,ADCN,CAAN,CAAcT,GEGG,CAACzB,EDJX,CAAc,EDCrB,CAAwB0B,GCDjB,ADCP,CAA4B,CCDC5B,KCIpB,ADJf,CCIyC,OAA1B,AFHT,CEGN;AJND,AIOCuB,AHNK,AEEL,ADCMA,CFVR,CIaEA,GHTI,CEKEkB,ADCAlB,EEGA,CAAClB,EDJI,CDCC,CAACqB,CCDCQ,ECId,CAAe,CDJG,ADCN,CCDOE,ADCb,CAAcP,OEGL9B,ADJD,CAAc,ICIR,EAAI,AFHlB,CCDQ,EAAuBC,KAArC;ACIyB,ADHzB,ADCM8B,MCDAY,ADCAZ,EEEuB/B,KAAK,ADHrB,CCGsBoC,EDHnBD,CDCC,CEEY,AFFXR,ECDE,CAACU,ECGuB,AFF3B,CAAX,GEEmB,EAAyBrC,ADHlC,CAAc,ICGyB,CAACC,IDHxC,CCGkC,CDHTA,ECGuB+D,GDHhE,ICGuE,CAAChE,KAAK,CAACoC,IAAP,CAArB;AJLpD,AIKsF,AHLhFpB,AEGJ,ADCK,GECL,CJLI5B,ACAA4B,GAAG,CAACO,IAAJ,MDAc,GAAG,GGGNa,IAAf,EHHIhD,cAAiB,CAACC,GGGOiD,EHHR,EAAW,CGGhC,yBAAiDC,UAAjD,mBAAoEC,IAApE,mBAAiFC,IAAjF,oBAA+FC,KAA/F,sBAAgHC,OAAhH;AHFE,AIKFjE,AHLG,AEGJ,ADCI,CCXL,CCYEA,CHbS,ACIP,CDJA,EDQMY,IIKA,CAACX,IJLQ,GAAGD,MIKpB,CAAuB,CJLK,CAACC,QIK7B,EAAmCiD,GJLf,CAAuB,KIK3C,CAA6CK,CJLzB,CAAlB,IIKF,CAAoD,aAApD;AACD,AHLE,ACIC,CEJJ,AHVO,QCcIX,KAAP;AFJA,AGIJ,ADCC,CAZM,GCWDsB,EHJIrD,KAAK,IGIE,GAAG,SAAdqD,WAAc,CAACC,MAAD,EAASC,GAAT,EAAiB;AHH/B,AIMN,ADFE,ICEImB,EDFElB,KHJK,CAAC,AGIA,GCEG,ADFAb,GCEG,CJNP,EAAU,GGIG,EAAxB,CCEI+B,CJNO,CADE,SIOK,CAAC5E,KAAD,EAAW;AJLzB,AIMJA,ADFA,ECEAA,KAAK,CAACmE,CDFC,GHJK,CAAC,AGIF3C,OHJC,AGIL,CAAa,CHJE,AIMtB,OJNY,CAFC,CGMQC,OAAD,EAAUC,MAAV,EAAqB;AHHrC,AIMJ,ADFE,QAAMC,GHJG,AGIA,CHJC,EGIE,IAAIC,CHJP,EAAU,OAAV,CAHE,CISFvC,EDFG,EAAZ,ICEiB,CAACC,aAAT,CAAuB,KAAvB,EAA8BsB,KAAzC,EACCyD,IADD,CACM,UAACQ,QAAD,EAAc;AJNhB,AIOFH,ADHA/C,ADDK,IEIL+C,ADHA/C,ADDWe,GCCR,CAACb,IAAJ,CHJW,AIOF,ADHA2B,CHJG,AIOFqB,CFJY,GAAG,CCCzB,EHJW,AGIMpB,CCGR,CJPY,AIOrB,CDHA,EAAsB,CDDXf,GFHA,AGIX,CHRW,OEOc,CAACJ,KAAD,EAAW;AFFlC,AIOFjD,ADHAsC,ADDAQ,EAAAA,EEIA9C,ADHAsC,GAAG,CAACgC,ADDE,CAACrB,EFHE,CAAC,AIOF,CAAChD,CFJH,CAAN,CAAcqD,GFHL,EAAU,EEGnB,CCCA,CAAqB,CCGrB,AFJwB,CEID,CJPd,CALE,SEQmB,CCC9B,EAAqC,CCGrC,EAAwCJ,SAAxC,CAAkDK,MAAlD,CAAyD,cAAzD,CDHA;AHHE,AIOD,AFJC,GEAJ,EAKC4B,GFLOrC,EEAR,CJHW,AIQJ,CJRK,EEGE,CAACG,IFHJ,CEGG,CFHO,AIQbL,AFLA,CAAc7B,IEKf,EJRI,EEGH,CAAuBC,KAA3B,EAAkC;AFTzB,AIcN,ADJLsB,ADAKQ,ICALR,EDAKQ,CCAF,CAACL,GCIYgD,CJPP,AEGE,CFHD,AEGExC,CCAZ,GAAa,CCIU,AFJZ,CEIayC,AFJnB,CFHI,AEGUxC,EFHA,AIOH,CAAYN,KAAZ,CJPP,AIOJ,ADJkB,ADAlB,CFVM,AEUkBW,CFV7B,KEUK,CAA+B,cAA/B;AEIA,ADHH,ADAER,GEFN,GFEMA,ICAE,KAAKL,CDAG,CAACO,ICAT,CDAQ,CAAV,CAAkBC,ECAA,GAApB,EAAyB,EDAvB,CAA4BK,MAA5B,CAAmC,aAAnC;AFFJ,AIMH,ADJ8B,ADCxB,CELP,KJEQ5C,KAAK,CAACG,MAAN,CAAaC,OGGCwD,CHHd,CAAsBvD,EGGJ,CAACwD,EHHvB,EAAiC,CGGf,CAAW,KAAK7B,YAAhB,CADS;AHDvB,AGCuB,ADE1B,GALD,KFEU1B,IGECwD,GADgB,EHDR,GAAG,KAAlB,CAD6B,CACJ,GGElBA,GADgB;ACM/B,AFHC,CAPQ,GEUHvC,EAAE,GAAGyD,QAAQ,CAACC,MAAT,CAAgBC,MAAhB,CAAuB,CAAvB,CAAX;AJNQjF,AGEAwB,IHFAxB,IGEAwB,KHFS,CAAC9B,CGEH,CAAC,CHFR,GAAgBO,KAAK,CAACK,SAAD,CAAL,CAAiB,CAAjB,CAAhB;AACAN,AIMR,ADLiBqD,IHDTrD,AIMJsB,EAAE,IDLW+B,CCKN,EJNM,AIMjB,CJNkBxD,CIMH,EJNP,AGCgB,EAAE,CHDFI,KAAK,CAACM,MGCd,IHDa,CAAL,CAAkB,CAAlB,CAAhB;AACH,AIMHnB,ADNuCkC,ECMvClC,QAAQ,ADN+BkC,CCM9BjC,CDNgC,EAAEwE,UCM3C,CAAuB,KAAvB,EAA8BlD,KAA9B,GAAsCW,EAAtC;AJLD,AIMC,ADPc,CHfhB,QGee,CAAP,oBCOKA,EAAX,EACG8C,IADH,CACQ,UAACQ,QAAD,EAAc;AAClBH,ADT6C,ICS7CA,GDXA,MCWS,ADRJ,CCQKG,GDRD,KCQA,ADRK9C,CCQd,KDRS,KAAgB,GAApB,EAAyB;AHEpC,AIOM1C,ADT8B,IHE9BoB,AIOApB,QAAQ,CAACC,CJPC,GAAG,SAAbmB,AIOA,CAAuB,ADRAmD,IAAI,CAACC,IHCf,CGDU,CAAW,CHCf,GIOnB,CDRuC7B,CCQCO,SAAxC,CAAkDK,CDR3B,CADO,ICS9B,CAAyD,cAAzD;AJNF,AIOG,ADV6B,GCMlC,EAKG4B,CJRK9D,IIGR,CAKS,CDVIyC,GHEI,CGHiB,EHGd,GIQVlB,KAAD,CJRDvB,KGFKyC,IHEO,AGHc,CHGbxC,KAAD,EAAQC,KAAR;AAAA,AIQX,ADXyB,WHGIvB,AIQlByF,CDVD1B,IADe,ECWP,CJRmB,AIQlB2B,CJRmBzF,EIQ3B,CAAY2C,KAAZ,CAAX,GDVUmB,CHEmB,CAAuBzC,EGH3B,GHGI,EAA8BC,KAA9B,GAAsCA,KAAxD;AAAA,AIQX,GJRP,AIGF;AAMD,ADVOa,QAAAA,OAAO,CAAC;AHEZ,AGFa6B,MHEPzC,IGFOyC,OAAO,EAAE,CHEF,GAAGjE,MGFX,EHEmB,CAACyB,gBAAT,CAA0B,qCAA1B,CAAvB;AACA,AIOH,ADVqCqC,MHG5BpC,IGH4BoC,IAAI,CHGvB,CGHmBA,EHGhB9D,EGHN,MHGc,CAACyB,gBAAT,CAA0B,gCAA1B,CAAlB;AACA,AGJwCsC,MHIlCpC,IGJkCoC,IHI1B,AGJ8B,EAAJA,CHIvB/D,QAAQ,CAACyB,gBAAT,CAA0B,+BAA1B,CAAjB;AACAD,AIQJ4D,ADbgB,EHKZ5D,KIQG,CAACsE,CDbO,CAAP,KCaR,CJRkB,CAAClE,CIQD,MJRd,CAAuB,GIQRjB,KAAD,EJRSkB,GAAG;AAAA,AIQZ,ADZX,OAHI,ECekB0D,EJRK1D,EGHvB,CHG0B,CAACC,KIQE,CAACnB,KAAD,CAAtB,IJRgB,CAAqB,OAArB,EAA8B;AAAA,AIQ9C,ADXN0B,CCWZ,EAEA,KDbYA,KHG0DhB,CGHpD,CAAC,OHG4D,CAAC,aAAD,EAAgBQ,GAAG,CAACE,OAAJ,CAAYR,KAA5B,CAAf;AAAA,AGH5C0C,KHGc,CAAJ,IGHVA,OAAO,EAAE;AHGC,AGHX,GHGf,MGHc,CAAN;AHIRvC,AIUJ,ADd0C,EHItCA,EIUEqE,OJVO,AIUA,CJVCnE,EIUE5B,KJVZ,CAAkB,EIUE,CAACC,OJVH4B,GAAG,GIUT,CAAuB,UAAvB,CAAhB;AJVyB,AIWzB,ADdK,ICcCmE,CDvBF,MHYyBnE,EIWd,CJXiB,CAACC,CIWf9B,QAAQ,CAACC,MJXE,CAAqB,MIWhC,CJXW,AIWY,EJXkB,UIWzC,CAAlB;AJX2D,AIY3D,IAAMgG,SJZ2D5E,AIYlD,GAAGrB,MJZwD,CAAC,CIYjD,CAACC,MJZ+C,EAAW4B,GAAG,CAACE,CIYvE,CAAuB,KJZ4C,CAAYR,KAAvB,CAAf,AIYzC,CAAlB;AJZ2D,AGFvDe,IAAAA,CHEyB,CAAJ,CGFlB,CAACoC,OAAJ,GAAc,YAAU;AHEH,AIczB,ADhB6BrC,GHEzB,CIcE6D,EDhBuB7D,MCgBf,ADhBqB,CAAC,ECgBnB,SAAX6D,QAAW,CAACvF,KAAD,EAAW;AJbxBgB,AIcF,ADjBmCsC,EHGjCtC,IIcIwE,EAAE,ADjB2BlC,EHGzB,CAACrC,AIcA5B,IDjB+B,EAAE,CHG1C,CAAiB,AIcA,CAACC,SJdD4B,GAAG,CIcX,CAAuB,iBAAvB,CAAX;AJdsB,AIetB,ADlBkC,MCkB5B4B,CDlB2B,CAAN,ECkBjB,CJfgB5B,EIeb7B,CJfgB,CAAC8B,MIeT,CAAC7B,SJfI,CAAqB,GIelC,CAAuB,GJfV,EAA8B,MIe3C,CAAb;AJfwD,AIgBxD,ADnByD,KAAvD,CCmBI6C,MAAM,CJhBkDzB,EIgB/CrB,OJhBwD,CAAC,AIgBjD,CAACyB,MJhB+C,EAAUI,GAAG,CAACE,IIgBtE,CAA0B,EJhBwC,CAAYR,IIgB9E,CJhBwD,AIgBvE,CJhBwD;AAAA,AIiBxDZ,EAAAA,GJjB0B,CAAJ,CIiBjB,CAACmE,cAAN;AJjBsB,AIkBtBhC,ADpBER,ECoBFQ,CJlBE,CGFAR,GAAG,CCoBC,ADpBAO,CCoBCjB,GDpBL,CAASyC,GCoBX,CAAe,EDpBb,QCoBa/C,KAAK,EAAI;AJjBvB,AIiBwB,ADnBxB,CHNH,EGVS,CAAP,ICmC6BA,KAAK,CAACoC,IAAN,KAAe,YAAnB,EAAiCpC,KAAK,CAAC8E,QAAN,GAAiB,KAAjB;AAAuB,ADlBlF,CAnBD,ECqCE;AJfK,AIgBL3C,EAAAA,EJhBWzB,EIgBP,CAACkB,KJhBc,GAAG,CIgBtB,CAAeK,MAAf,CJhBWvB,AIgBW,QJhBA,GAAM,GIgB5B;AJfElC,AIgBF2D,ADlBK,EHEH3D,AIgBF2D,EDlBWkB,ECkBP,CAACzB,SJhBW,AIgBhB,CAAeC,ADlBS,EHCI,CAE1B,AIeF,ADlB2B,CCkBR,QDlBRwB,MCkBX,ODlB2B,CAACR,MAAD,EAASC,GAAT,EAAiB;ACmB5C+B,ADlBA,ECkBAA,EAAE,CAACjB,CDlBGN,OAAO,CCkBb,EDlBgB5E,CCkBD,ODlBS,CAACC,WCkBzB,EDlBgB,CAAuB,UAAvB,CAAhB;AHGEmB,AIgBF+E,ADlBAnG,EHEEoB,AIgBF+E,ADlBAnG,ECkBE,CAACoD,KDlBK,CAACnD,CHEG,OIgBZ,CAAkB,IDlBlB,CAAuB,WAAvB,EAAoC6B,gBAApC,CAAqD,QAArD,EAA+D,UAAC+C,CAAD,EAAO;AHGvE,AIeoBwB,ADjBfxB,CHFC,GImBcwB,ADjBfxB,CAAC,CAACC,MCiBqB,EAAE,MDjBzB;ACiBc,ADhBd,GCgBJ,KDhBUlC,KAAK,GAAG,6BAAd;ACiBL,CAVD;ADNM,QAAI,CAACA,KAAL,EAAY;ACkBlB,ADjBQgC,ICiBF0B,EDjBE1B,OAAO,CAACrD,GCiBG,EDjBX,CCiBc,EDjBE,OCiBlB+E,KDjBE,QCiBc,CAAC3F,KAAD,EAAW;AAC/B8E,ADjBMb,ECiBNa,IDjBMb,GCiBC,CAACc,GAAR,ADjBa,CCiBD,ADjBEX,QAAR,GAAmB,ICiBzB,ADjBM;ACkBNpE,ADjBMuD,ECiBNvD,IDjBMuD,CCiBD,CAACY,SDjBW,CAACX,ICiBlB,EDjBiB,EAASC,GAAT,CAAX,CACGY,IADH,CACQ,UAACC,KAAD,EAAW;ACiBzB,ADjByB,MCiBnB3C,GAAG,GAAG,ADhBI2B,ICgBA1B,GDjBS,GACmB0C,KADnB,CACThB,ECgBJ,EAAZ,GDjByB;ACkBzB3B,ADlByB,ECkBzBA,GAAG,CAACE,IAAJ,CAAS,CDjBgBN,EADA,GACmB+C,ECiB5C,GDlByB,CACA/C,EADA,0BCkBiBA,EAA1C,GAAgD,IAAhD;ADlByB,YACI4B,IADJ,GACmBmB,KADnB,CACInB,IADJ;ACmBzBxB,ADnByB,ECmBzBA,GAAG,CAACG,MAAJ,ADlBmCsB,GCkBtB,CDnBY,GACmBkB,KADnB,CACUlB,ECkBZ,EDnBE;ACoBvB,ADlBQ,QCkBJ,IDlBQ/D,CCkBH0C,MAAL,CDlBgB,CAACzC,GCkBD,GAApB,EAAyBD,KDlBb,CAAuB,ECkBF,CAACC,EDlBtB,CAAJ,EAAmCiC,EAAE,GAAGlC,GCkBvB,CAAuB,IDlBQ,CAACC,SCkBhC,EAAuCiD,EDlBhB,CAAuB,KAAvB,CCkBvB,CAAiDC,ADlBI5B,GCkBrD,CAAqD,CDlBnC,aCkBlB,EAAzB,KACIvB,QAAQ,CAACC,aAAT,CAAuB,WAAvB,EAAoCiD,SAApC,CAA8CC,GAA9C,CAAkD,cAAlD;AACL,ADnBSnD,GCgBV,KDhBUA,QAAQ,CAACC,aAAT,CAAuB,MAAvB,EAA+BiF,SAA/B,oCAAoEhD,EAApE,gBAA2EA,EAA3E;AACAlC,QAAAA,QAAQ,CAACC,aAAT,CAAuB,OAAvB,EAAgCiF,SAAhC,GAA4CpB,IAA5C;ACmBVxB,ADlBUtC,ECkBVsC,GAAG,CAACO,EDlBM7C,ECkBV,MDlBkB,CAACC,aAAT,CAAuB,OAAvB,EAAgCiF,SAAhC,GAA4CnB,IAA5C;ACmBX,ADlBW/D,CCQZ,ODRYA,QAAQ,CAACC,aAAT,YAA2BgE,OAA3B,GAAsCf,SAAtC,CAAgDC,GAAhD,CAAoD,cAApD;AACD,OARH,EASGgC,KATH,CASS;ACkBjBY,ADlBiB,OCkBV,CAACD,OAAR,ADlBuB9F,GCkBL,KDlBa,CAACC,ICkBbU,KAAD,IDlBK,CAAuB,WAAvB,EAAoCuC,SAApC,CAA8CC,GAA9C,CAAkD,cAAlD,CAAN;ACkBC,ADlBD,OATT,EC2BqB+C,QAAQ,CAACvF,KAAD,CAAnB;AAAA,ADjBX,CCiBP;ADhBG,GAjBD;ACkCFsF,ADhBC,CApBM,QCoCE,CAACH,OAAV,GAAoB,UAACnF,KAAD;AAAA,SAAW2F,aAAa,CAAC3F,KAAD,CAAxB;AAAA,CAApB;;AACAqF,SAAS,CAACF,OAAV,GAAoB,UAACnF,KAAD;AAAA,SAAW,gCAAc,KAAd,gCAA4CX,QAAQ,CAACC,aAAT,CAAuB,KAAvB,EAA8BsB,KAA1E,EAAX;AAAA,CAApB","file":"booking.a62b7ad2.js","sourceRoot":"..","sourcesContent":["const availableDates = () => {\r\n    const dateInput = document.querySelector('#date');\r\n    const minDate = new Date(Date.now() + 86400000);\r\n    const maxDate = new Date(Date.now() + 1296000000);\r\n    dateInput.min = minDate.toISOString().split('T')[0];\r\n    dateInput.max = maxDate.toISOString().split('T')[0];;\r\n}\r\n\r\nconst availableTimes = (event) => {\r\n    const timeInput = document.querySelector('#time');\r\n    const hours = {\r\n      \"Mon\": [\"17:00\", \"21:00\"],\r\n      \"Tues\": [\"17:00\", \"21:00\"],\r\n      \"Wed\": [\"17:00\", \"21:00\"],\r\n      \"Thurs\": [\"17:00\", \"21:00\"],\r\n      \"Fri\": [\"17:00\", \"21:00\"],\r\n      \"Sat\": [\"12:00\", \"21:00\"],\r\n      \"Sat\": [\"17:00\", \"20:00\"],\r\n    }\r\n    if (event.target.validity.valid) {\r\n        const dayOfWeek = \"Mon\"; // edit to this to get day of week\r\n        timeInput.min = hours[dayofWeek][0];\r\n        timeInput.max = hours[dayoffWeek][1];\r\n    }\r\n}\r\n\r\nconst selectBtns = () => {\r\n    const selectBtn = (input, value) => document.querySelector(input).value = value;\r\n    const restaurantBtns = document.querySelectorAll(\".restaurant .dropdownContent button\");\r\n    const partyBtns = document.querySelectorAll(\".party .dropdownContent button\");\r\n    const timeBtns = document.querySelectorAll(\".time .dropdownContent button\");\r\n    restaurantBtns.forEach(btn => btn.addEventListener('click', () => selectBtn(\"#restaurant\", btn.dataset.value)));\r\n    partyBtns.forEach(btn => btn.addEventListener('click', () => selectBtn(\"#party\", btn.dataset.value)));\r\n    timeBtns.forEach(btn => btn.addEventListener('click', () => selectBtn(\"#time\", btn.dataset.value)));\r\n  }\r\n\r\nexport const bookForm = () => {\r\n    availableDates();\r\n    //document.querySelector('#date').addEventListener('onchange', availableTimes(event)) ;\r\n    selectBtns();\r\n}","export const getBooking = (id) => {\r\n    return new Promise ((resolve, reject) => {\r\n      const xhr = new XMLHttpRequest\r\n      xhr.open('GET', `/api/guest/booking/${id}`, true)\r\n      xhr.onload = function(){\r\n        if (this.status === 200) resolve(this.responseText)\r\n        else reject({error: \"no booking found\"})\r\n      }\r\n      xhr.send()\r\n    })\r\n  }","const inputs = document.querySelectorAll('input');\r\nconst errorBoxes = document.querySelectorAll('.error');\r\n\r\nexport const checkError = () => {\r\n    let error = false;\r\n    inputs.forEach( (input, index) => {\r\n      if (!input.validity.valid) {\r\n        error = true; \r\n        errorBoxes[index].classList.add('errorActive');\r\n        inputs[index].classList.add('inputInvalid');\r\n        inputs[index].scrollIntoView();\r\n        removeError(index);     \r\n      }\r\n    })\r\n    return error;\r\n}\r\n\r\n  export const removeError = (index) => {\r\n    inputs[index].oninput = () => {\r\n      if (inputs[index].validity.valid) {\r\n         inputs[index].classList.remove('inputInvalid');\r\n        errorBoxes[index].classList.remove('errorActive');\r\n      }\r\n    }\r\n}\r\n  \r\n  ","import { checkError } from './validation';\r\n\r\nconst setParams = () => {\r\n  const form = document.querySelector('#bookForm');\r\n  const name = form.elements[\"name\"].value;\r\n  const email = form.elements[\"email\"].value;\r\n  const restaurant = form.elements[\"restaurant\"].value;\r\n  const date = form.elements[\"date\"].value;\r\n  const time = form.elements[\"time\"].value;\r\n  const party = form.elements[\"party\"].value;\r\n  const message = form.elements[\"message\"].value;\r\n  return `name=${name}&email=${email}&restaurant=${restaurant}&date=${date}&time=${time}&party=${party}&message=${message}`\r\n}\r\n\r\nconst sendBooking = (method, url) => {\r\n  const params = setParams();\r\n  return new Promise ((resolve, reject) => {\r\n    const xhr = new XMLHttpRequest;\r\n    xhr.open(method, url, true);\r\n    xhr.setRequestHeader('content-type', 'application/x-www-form-urlencoded');\r\n    xhr.onload = function(){\r\n      if (this.status === 200) {\r\n        const {_id} = JSON.parse(this.responseText);\r\n        resolve({message: \"bookSuccess\", id: _id})}\r\n      else if (this.status === 403) {\r\n        const {date, time} = JSON.parse(this.responseText);\r\n        resolve({message: \"bookFull\", date, time})\r\n      }\r\n      else {reject({message: \"bookFail\"})}\r\n    };\r\n    xhr.onerror = function(){reject({message: \"bookFail\"})};\r\n    xhr.send(params);\r\n  })\r\n}\r\n\r\nexport const submitBooking = (method, url) => {\r\n  const bookBtn = document.querySelector('.bookBtn');\r\n  document.querySelector('#bookForm').addEventListener('submit', (e) => {  \r\n      e.preventDefault();\r\n      const error = checkError();\r\n      if (!error) {\r\n        bookBtn.value = \"Sending...\";\r\n        bookBtn.disabled = true;\r\n        sendBooking(method, url)\r\n          .then((reply) => {\r\n            let { message, id, date, time } = reply;\r\n            if (document.querySelector('#id')) id = document.querySelector('#id').value;\r\n            document.querySelector('#_id').innerHTML = `<a href=\"booking.html?${id}\">${id}</a>`\r\n            document.querySelector('#date').innerHTML = date\r\n            document.querySelector('#time').innerHTML = time\r\n            document.querySelector(`.${message}`).classList.add(\"modal-active\")\r\n          })\r\n          .catch(() => document.querySelector(\".bookFail\").classList.add(\"modal-active\"))\r\n      }\r\n  });\r\n}\r\n\r\n","import { bookForm } from './bookForm'\r\nimport { getBooking } from './getBooking';\r\nimport { submitBooking } from './sendBooking';\r\n\r\n//preparing form and form Buttons\r\nbookForm();\r\n\r\n//find existing booking\r\nconst findBtn = document.querySelector('#findBtn');\r\n\r\nconst inputForm = (booking) => {\r\n  booking = JSON.parse(booking);\r\n  const inputs = document.querySelectorAll('input');\r\n  inputs.forEach(input => {if (input.name !== \"id\") input.value = booking[input.name]});\r\n  document.querySelector('.modalBg').classList.remove(\"modalActive\");\r\n};\r\n\r\nconst findBooking = (event) => {\r\n  event.preventDefault();\r\n  getBooking(document.querySelector('#id').value)\r\n  .then((response) => {\r\n    inputForm(response);\r\n    document.querySelector(\".modal-active\").classList.remove(\"modal-active\");\r\n    })\r\n  .catch((error) => console.log(error))\r\n};\r\n\r\nconst id = location.search.substr(1);\r\nif (id !== \"\") {\r\n  document.querySelector('#id').value = id;\r\n  getBooking(id)\r\n    .then((response) => {\r\n      inputForm(response);\r\n      document.querySelector(\".modal-active\").classList.remove(\"modal-active\");\r\n      })\r\n    .catch((error) => console.log(error))\r\n};\r\n\r\n\r\nfindBtn.onclick = (event) => findBooking(event);\r\n\r\n//crud booking buttons\r\nconst editBtn = document.querySelector('#editBtn');\r\nconst updateBtn = document.querySelector('#updateBtn');\r\nconst deleteBtn = document.querySelector('#deleteBtn');\r\n\r\nconst editForm = (event) => {\r\n  const h2 = document.querySelector('#bookingForm h2');\r\n  const form = document.querySelector('#bookForm');\r\n  const inputs = document.querySelectorAll('input');\r\n  event.preventDefault();\r\n  inputs.forEach(input => {if (input.name !== \"restaurant\") input.readOnly = false});\r\n  form.classList.remove('formDisabled');\r\n  form.classList.add('formEditable');\r\n  h2.innerHTML = \"Edit your booking\";\r\n  h2.scrollIntoView({behavior: \"smooth\"});\r\n};\r\n\r\nconst deleteBooking = (event) => {\r\n  console.log(\"delete me bro\");\r\n  event.preventDefault();\r\n  const xhr = new XMLHttpRequest;\r\n  xhr.open('DELETE', `./api/guest/booking/${id}`, true) ;\r\n  xhr.onload = function(){\r\n    if (this.status === 200) document.querySelector('.bookDeleted').classList.add(\"modal-active\")\r\n   else document.querySelector('.bookFail').classList.add(\"modal-active\")\r\n  };\r\n  xhr.send();\r\n};\r\n\r\neditBtn.onclick = (event) => editForm(event);\r\ndeleteBtn.onclick = (event) => deleteBooking(event);\r\nupdateBtn.onclick = (event) => submitBooking('PUT', `./api/guest/booking/${document.querySelector('#id').value}`);\r\n\r\n"]}