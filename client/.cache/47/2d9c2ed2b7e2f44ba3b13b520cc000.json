{"id":"xa5e","dependencies":[{"name":"C:\\Users\\becky\\Desktop\\big-burger\\client\\package.json","includedInParent":true,"mtime":1594980805671},{"name":"axios","loc":{"line":1,"column":18},"parent":"C:\\Users\\becky\\Desktop\\big-burger\\client\\js\\booking\\submitBooking.js","resolved":"C:\\Users\\becky\\Desktop\\big-burger\\client\\node_modules\\axios\\index.js"},{"name":"./validateBooking","loc":{"line":2,"column":32},"parent":"C:\\Users\\becky\\Desktop\\big-burger\\client\\js\\booking\\submitBooking.js","resolved":"C:\\Users\\becky\\Desktop\\big-burger\\client\\js\\booking\\validateBooking.js"},{"name":"../index/modal","loc":{"line":3,"column":26},"parent":"C:\\Users\\becky\\Desktop\\big-burger\\client\\js\\booking\\submitBooking.js","resolved":"C:\\Users\\becky\\Desktop\\big-burger\\client\\js\\index\\modal.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.submitBooking=void 0;var e=o(require(\"axios\")),t=require(\"./validateBooking\"),a=require(\"../index/modal\");function o(e){return e&&e.__esModule?e:{default:e}}var n=document.querySelector(\".bookBtn\"),r=function(e){var t=document.querySelector(\"#bookForm\"),a=t.elements.name.value,o=t.elements.email.value,n=t.elements.restaurant.value,r=t.elements.date.value,s=t.elements.time.value,i=t.elements.party.value,u=t.elements.message.value;return e?\"name=\".concat(a,\"&email=\").concat(o,\"&restaurant=\").concat(n,\"&date=\").concat(r,\"&time=\").concat(s,\"&party=\").concat(i,\"&message=\").concat(u):{name:a,email:o,restaurant:n,date:r,time:s,party:i,message:u}},s=function(o,s,i){if(o.preventDefault(),!(0,t.validateBooking)()){n.value=\"Sending...\",n.disabled=!0;var u=r(!0);(0,e.default)({method:s,url:i,data:u}).then(function(e){var t=e.data._id;document.querySelector(\"#_id\").innerHTML='<a href=\"booking.html?'.concat(t,'\">').concat(t,\"</a>\"),(0,a.showModal)(\".bookSuccess\")}).catch(function(e){var t=r(!1);sessionStorage.setItem(\"booking\",JSON.stringify(t)),409===e.response.status?(document.querySelector(\".bookingDate\").innerHTML=\"<div><p>Date: <span>\".concat(e.response.data.date,\"</span></p><p>Time: <span>\").concat(e.response.data.time,\"</span></p></div>\"),(0,a.showModal)(\".bookFull\")):(0,a.showModal)(\".bookFail\")})}};exports.submitBooking=s;"},"sourceMaps":{"js":{"mappings":[{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":0}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":13}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":20}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":35}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":43}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":56}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":57}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":64}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":68}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":76}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":95}},{"source":"js/booking/submitBooking.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"js/booking/submitBooking.js","original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"js/booking/submitBooking.js","original":{"line":1,"column":0},"generated":{"line":1,"column":103}},{"source":"js/booking/submitBooking.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"js/booking/submitBooking.js","original":{"line":1,"column":0},"generated":{"line":1,"column":113}},{"source":"js/booking/submitBooking.js","original":{"line":2,"column":0},"generated":{"line":1,"column":123}},{"source":"js/booking/submitBooking.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"js/booking/submitBooking.js","original":{"line":2,"column":0},"generated":{"line":1,"column":133}},{"source":"js/booking/submitBooking.js","original":{"line":3,"column":0},"generated":{"line":1,"column":154}},{"source":"js/booking/submitBooking.js","original":{"line":3,"column":0},"generated":{"line":1,"column":156}},{"source":"js/booking/submitBooking.js","original":{"line":3,"column":0},"generated":{"line":1,"column":164}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":182}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":191}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":193}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":196}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":203}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":206}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":208}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":219}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":221}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":222}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":230}},{"source":"js/booking/submitBooking.js","original":{"line":5,"column":0},"generated":{"line":1,"column":233}},{"source":"js/booking/submitBooking.js","name":"bookBtn","original":{"line":5,"column":6},"generated":{"line":1,"column":237}},{"source":"js/booking/submitBooking.js","name":"document","original":{"line":5,"column":16},"generated":{"line":1,"column":239}},{"source":"js/booking/submitBooking.js","name":"querySelector","original":{"line":5,"column":25},"generated":{"line":1,"column":248}},{"source":"js/booking/submitBooking.js","original":{"line":5,"column":39},"generated":{"line":1,"column":262}},{"source":"js/booking/submitBooking.js","name":"setParams","original":{"line":7,"column":6},"generated":{"line":1,"column":274}},{"source":"js/booking/submitBooking.js","original":{"line":7,"column":18},"generated":{"line":1,"column":276}},{"source":"js/booking/submitBooking.js","name":"urlencoding","original":{"line":7,"column":19},"generated":{"line":1,"column":285}},{"source":"js/booking/submitBooking.js","name":"form","original":{"line":8,"column":8},"generated":{"line":1,"column":288}},{"source":"js/booking/submitBooking.js","name":"form","original":{"line":8,"column":8},"generated":{"line":1,"column":292}},{"source":"js/booking/submitBooking.js","name":"document","original":{"line":8,"column":15},"generated":{"line":1,"column":294}},{"source":"js/booking/submitBooking.js","name":"querySelector","original":{"line":8,"column":24},"generated":{"line":1,"column":303}},{"source":"js/booking/submitBooking.js","original":{"line":8,"column":38},"generated":{"line":1,"column":317}},{"source":"js/booking/submitBooking.js","name":"name","original":{"line":9,"column":8},"generated":{"line":1,"column":330}},{"source":"js/booking/submitBooking.js","name":"form","original":{"line":9,"column":15},"generated":{"line":1,"column":332}},{"source":"js/booking/submitBooking.js","name":"elements","original":{"line":9,"column":20},"generated":{"line":1,"column":334}},{"source":"js/booking/submitBooking.js","original":{"line":9,"column":15},"generated":{"line":1,"column":343}},{"source":"js/booking/submitBooking.js","name":"value","original":{"line":9,"column":37},"generated":{"line":1,"column":348}},{"source":"js/booking/submitBooking.js","name":"email","original":{"line":10,"column":8},"generated":{"line":1,"column":354}},{"source":"js/booking/submitBooking.js","name":"form","original":{"line":10,"column":16},"generated":{"line":1,"column":356}},{"source":"js/booking/submitBooking.js","name":"elements","original":{"line":10,"column":21},"generated":{"line":1,"column":358}},{"source":"js/booking/submitBooking.js","original":{"line":10,"column":16},"generated":{"line":1,"column":367}},{"source":"js/booking/submitBooking.js","name":"value","original":{"line":10,"column":39},"generated":{"line":1,"column":373}},{"source":"js/booking/submitBooking.js","name":"restaurant","original":{"line":11,"column":8},"generated":{"line":1,"column":379}},{"source":"js/booking/submitBooking.js","name":"form","original":{"line":11,"column":21},"generated":{"line":1,"column":381}},{"source":"js/booking/submitBooking.js","name":"elements","original":{"line":11,"column":26},"generated":{"line":1,"column":383}},{"source":"js/booking/submitBooking.js","original":{"line":11,"column":21},"generated":{"line":1,"column":392}},{"source":"js/booking/submitBooking.js","name":"value","original":{"line":11,"column":49},"generated":{"line":1,"column":403}},{"source":"js/booking/submitBooking.js","name":"date","original":{"line":12,"column":8},"generated":{"line":1,"column":409}},{"source":"js/booking/submitBooking.js","name":"form","original":{"line":12,"column":15},"generated":{"line":1,"column":411}},{"source":"js/booking/submitBooking.js","name":"elements","original":{"line":12,"column":20},"generated":{"line":1,"column":413}},{"source":"js/booking/submitBooking.js","original":{"line":12,"column":15},"generated":{"line":1,"column":422}},{"source":"js/booking/submitBooking.js","name":"value","original":{"line":12,"column":37},"generated":{"line":1,"column":427}},{"source":"js/booking/submitBooking.js","name":"time","original":{"line":13,"column":8},"generated":{"line":1,"column":433}},{"source":"js/booking/submitBooking.js","name":"form","original":{"line":13,"column":15},"generated":{"line":1,"column":435}},{"source":"js/booking/submitBooking.js","name":"elements","original":{"line":13,"column":20},"generated":{"line":1,"column":437}},{"source":"js/booking/submitBooking.js","original":{"line":13,"column":15},"generated":{"line":1,"column":446}},{"source":"js/booking/submitBooking.js","name":"value","original":{"line":13,"column":37},"generated":{"line":1,"column":451}},{"source":"js/booking/submitBooking.js","name":"party","original":{"line":14,"column":8},"generated":{"line":1,"column":457}},{"source":"js/booking/submitBooking.js","name":"form","original":{"line":14,"column":16},"generated":{"line":1,"column":459}},{"source":"js/booking/submitBooking.js","name":"elements","original":{"line":14,"column":21},"generated":{"line":1,"column":461}},{"source":"js/booking/submitBooking.js","original":{"line":14,"column":16},"generated":{"line":1,"column":470}},{"source":"js/booking/submitBooking.js","name":"value","original":{"line":14,"column":39},"generated":{"line":1,"column":476}},{"source":"js/booking/submitBooking.js","name":"message","original":{"line":15,"column":8},"generated":{"line":1,"column":482}},{"source":"js/booking/submitBooking.js","name":"form","original":{"line":15,"column":18},"generated":{"line":1,"column":484}},{"source":"js/booking/submitBooking.js","name":"elements","original":{"line":15,"column":23},"generated":{"line":1,"column":486}},{"source":"js/booking/submitBooking.js","original":{"line":15,"column":18},"generated":{"line":1,"column":495}},{"source":"js/booking/submitBooking.js","name":"value","original":{"line":15,"column":43},"generated":{"line":1,"column":503}},{"source":"js/booking/submitBooking.js","name":"urlencoding","original":{"line":16,"column":6},"generated":{"line":1,"column":509}},{"source":"js/booking/submitBooking.js","name":"urlencoding","original":{"line":16,"column":6},"generated":{"line":1,"column":516}},{"source":"js/booking/submitBooking.js","name":"name","original":{"line":16,"column":35},"generated":{"line":1,"column":518}},{"source":"js/booking/submitBooking.js","name":"name","original":{"line":16,"column":35},"generated":{"line":1,"column":526}},{"source":"js/booking/submitBooking.js","name":"name","original":{"line":16,"column":35},"generated":{"line":1,"column":533}},{"source":"js/booking/submitBooking.js","name":"email","original":{"line":16,"column":49},"generated":{"line":1,"column":535}},{"source":"js/booking/submitBooking.js","name":"email","original":{"line":16,"column":49},"generated":{"line":1,"column":546}},{"source":"js/booking/submitBooking.js","name":"email","original":{"line":16,"column":49},"generated":{"line":1,"column":553}},{"source":"js/booking/submitBooking.js","name":"restaurant","original":{"line":16,"column":69},"generated":{"line":1,"column":555}},{"source":"js/booking/submitBooking.js","name":"restaurant","original":{"line":16,"column":69},"generated":{"line":1,"column":571}},{"source":"js/booking/submitBooking.js","name":"restaurant","original":{"line":16,"column":69},"generated":{"line":1,"column":578}},{"source":"js/booking/submitBooking.js","name":"date","original":{"line":16,"column":88},"generated":{"line":1,"column":580}},{"source":"js/booking/submitBooking.js","name":"date","original":{"line":16,"column":88},"generated":{"line":1,"column":590}},{"source":"js/booking/submitBooking.js","name":"date","original":{"line":16,"column":88},"generated":{"line":1,"column":597}},{"source":"js/booking/submitBooking.js","name":"time","original":{"line":16,"column":101},"generated":{"line":1,"column":599}},{"source":"js/booking/submitBooking.js","name":"time","original":{"line":16,"column":101},"generated":{"line":1,"column":609}},{"source":"js/booking/submitBooking.js","name":"time","original":{"line":16,"column":101},"generated":{"line":1,"column":616}},{"source":"js/booking/submitBooking.js","name":"party","original":{"line":16,"column":115},"generated":{"line":1,"column":618}},{"source":"js/booking/submitBooking.js","name":"party","original":{"line":16,"column":115},"generated":{"line":1,"column":629}},{"source":"js/booking/submitBooking.js","name":"party","original":{"line":16,"column":115},"generated":{"line":1,"column":636}},{"source":"js/booking/submitBooking.js","name":"message","original":{"line":16,"column":132},"generated":{"line":1,"column":638}},{"source":"js/booking/submitBooking.js","name":"message","original":{"line":16,"column":132},"generated":{"line":1,"column":651}},{"source":"js/booking/submitBooking.js","name":"message","original":{"line":16,"column":132},"generated":{"line":1,"column":658}},{"source":"js/booking/submitBooking.js","original":{"line":17,"column":14},"generated":{"line":1,"column":661}},{"source":"js/booking/submitBooking.js","name":"name","original":{"line":17,"column":16},"generated":{"line":1,"column":662}},{"source":"js/booking/submitBooking.js","name":"name","original":{"line":17,"column":16},"generated":{"line":1,"column":667}},{"source":"js/booking/submitBooking.js","name":"email","original":{"line":17,"column":22},"generated":{"line":1,"column":669}},{"source":"js/booking/submitBooking.js","name":"email","original":{"line":17,"column":22},"generated":{"line":1,"column":675}},{"source":"js/booking/submitBooking.js","name":"restaurant","original":{"line":17,"column":29},"generated":{"line":1,"column":677}},{"source":"js/booking/submitBooking.js","name":"restaurant","original":{"line":17,"column":29},"generated":{"line":1,"column":688}},{"source":"js/booking/submitBooking.js","name":"date","original":{"line":17,"column":41},"generated":{"line":1,"column":690}},{"source":"js/booking/submitBooking.js","name":"date","original":{"line":17,"column":41},"generated":{"line":1,"column":695}},{"source":"js/booking/submitBooking.js","name":"time","original":{"line":17,"column":47},"generated":{"line":1,"column":697}},{"source":"js/booking/submitBooking.js","name":"time","original":{"line":17,"column":47},"generated":{"line":1,"column":702}},{"source":"js/booking/submitBooking.js","name":"party","original":{"line":17,"column":53},"generated":{"line":1,"column":704}},{"source":"js/booking/submitBooking.js","name":"party","original":{"line":17,"column":53},"generated":{"line":1,"column":710}},{"source":"js/booking/submitBooking.js","name":"message","original":{"line":17,"column":60},"generated":{"line":1,"column":712}},{"source":"js/booking/submitBooking.js","name":"message","original":{"line":17,"column":60},"generated":{"line":1,"column":720}},{"source":"js/booking/submitBooking.js","name":"submitBooking","original":{"line":20,"column":13},"generated":{"line":1,"column":724}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":29},"generated":{"line":1,"column":726}},{"source":"js/booking/submitBooking.js","name":"event","original":{"line":20,"column":30},"generated":{"line":1,"column":735}},{"source":"js/booking/submitBooking.js","name":"method","original":{"line":20,"column":37},"generated":{"line":1,"column":737}},{"source":"js/booking/submitBooking.js","name":"url","original":{"line":20,"column":45},"generated":{"line":1,"column":739}},{"source":"js/booking/submitBooking.js","original":{"line":23,"column":6},"generated":{"line":1,"column":742}},{"source":"js/booking/submitBooking.js","name":"event","original":{"line":21,"column":2},"generated":{"line":1,"column":745}},{"source":"js/booking/submitBooking.js","name":"preventDefault","original":{"line":21,"column":8},"generated":{"line":1,"column":747}},{"source":"js/booking/submitBooking.js","original":{"line":22,"column":16},"generated":{"line":1,"column":766}},{"source":"js/booking/submitBooking.js","original":{"line":22,"column":2},"generated":{"line":1,"column":768}},{"source":"js/booking/submitBooking.js","original":{"line":22,"column":2},"generated":{"line":1,"column":770}},{"source":"js/booking/submitBooking.js","original":{"line":23,"column":14},"generated":{"line":1,"column":789}},{"source":"js/booking/submitBooking.js","name":"bookBtn","original":{"line":24,"column":4},"generated":{"line":1,"column":790}},{"source":"js/booking/submitBooking.js","name":"value","original":{"line":24,"column":12},"generated":{"line":1,"column":792}},{"source":"js/booking/submitBooking.js","original":{"line":24,"column":20},"generated":{"line":1,"column":798}},{"source":"js/booking/submitBooking.js","name":"bookBtn","original":{"line":25,"column":4},"generated":{"line":1,"column":811}},{"source":"js/booking/submitBooking.js","name":"disabled","original":{"line":25,"column":12},"generated":{"line":1,"column":813}},{"source":"js/booking/submitBooking.js","original":{"line":25,"column":23},"generated":{"line":1,"column":823}},{"source":"js/booking/submitBooking.js","name":"params","original":{"line":26,"column":10},"generated":{"line":1,"column":825}},{"source":"js/booking/submitBooking.js","name":"params","original":{"line":26,"column":10},"generated":{"line":1,"column":829}},{"source":"js/booking/submitBooking.js","name":"setParams","original":{"line":26,"column":19},"generated":{"line":1,"column":831}},{"source":"js/booking/submitBooking.js","original":{"line":26,"column":29},"generated":{"line":1,"column":834}},{"source":"js/booking/submitBooking.js","original":{"line":27,"column":10},"generated":{"line":1,"column":838}},{"source":"js/booking/submitBooking.js","original":{"line":27,"column":10},"generated":{"line":1,"column":840}},{"source":"js/booking/submitBooking.js","original":{"line":27,"column":10},"generated":{"line":1,"column":842}},{"source":"js/booking/submitBooking.js","original":{"line":27,"column":10},"generated":{"line":1,"column":851}},{"source":"js/booking/submitBooking.js","name":"method","original":{"line":27,"column":11},"generated":{"line":1,"column":852}},{"source":"js/booking/submitBooking.js","name":"method","original":{"line":27,"column":11},"generated":{"line":1,"column":859}},{"source":"js/booking/submitBooking.js","name":"url","original":{"line":27,"column":19},"generated":{"line":1,"column":861}},{"source":"js/booking/submitBooking.js","name":"url","original":{"line":27,"column":19},"generated":{"line":1,"column":865}},{"source":"js/booking/submitBooking.js","name":"data","original":{"line":27,"column":24},"generated":{"line":1,"column":867}},{"source":"js/booking/submitBooking.js","name":"params","original":{"line":27,"column":30},"generated":{"line":1,"column":872}},{"source":"js/booking/submitBooking.js","name":"then","original":{"line":28,"column":5},"generated":{"line":1,"column":876}},{"source":"js/booking/submitBooking.js","original":{"line":28,"column":11},"generated":{"line":1,"column":881}},{"source":"js/booking/submitBooking.js","name":"res","original":{"line":28,"column":11},"generated":{"line":1,"column":890}},{"source":"js/booking/submitBooking.js","name":"_id","original":{"line":29,"column":14},"generated":{"line":1,"column":893}},{"source":"js/booking/submitBooking.js","name":"_id","original":{"line":29,"column":14},"generated":{"line":1,"column":897}},{"source":"js/booking/submitBooking.js","name":"res","original":{"line":29,"column":22},"generated":{"line":1,"column":899}},{"source":"js/booking/submitBooking.js","name":"data","original":{"line":29,"column":26},"generated":{"line":1,"column":901}},{"source":"js/booking/submitBooking.js","name":"_id","original":{"line":29,"column":14},"generated":{"line":1,"column":906}},{"source":"js/booking/submitBooking.js","name":"document","original":{"line":30,"column":6},"generated":{"line":1,"column":910}},{"source":"js/booking/submitBooking.js","name":"querySelector","original":{"line":30,"column":15},"generated":{"line":1,"column":919}},{"source":"js/booking/submitBooking.js","original":{"line":30,"column":29},"generated":{"line":1,"column":933}},{"source":"js/booking/submitBooking.js","name":"innerHTML","original":{"line":30,"column":37},"generated":{"line":1,"column":941}},{"source":"js/booking/submitBooking.js","name":"_id","original":{"line":30,"column":74},"generated":{"line":1,"column":951}},{"source":"js/booking/submitBooking.js","name":"_id","original":{"line":30,"column":74},"generated":{"line":1,"column":976}},{"source":"js/booking/submitBooking.js","name":"_id","original":{"line":30,"column":74},"generated":{"line":1,"column":983}},{"source":"js/booking/submitBooking.js","name":"_id","original":{"line":30,"column":82},"generated":{"line":1,"column":985}},{"source":"js/booking/submitBooking.js","name":"_id","original":{"line":30,"column":82},"generated":{"line":1,"column":991}},{"source":"js/booking/submitBooking.js","name":"_id","original":{"line":30,"column":82},"generated":{"line":1,"column":998}},{"source":"js/booking/submitBooking.js","original":{"line":30,"column":6},"generated":{"line":1,"column":1000}},{"source":"js/booking/submitBooking.js","original":{"line":31,"column":16},"generated":{"line":1,"column":1009}},{"source":"js/booking/submitBooking.js","original":{"line":31,"column":16},"generated":{"line":1,"column":1011}},{"source":"js/booking/submitBooking.js","original":{"line":31,"column":16},"generated":{"line":1,"column":1013}},{"source":"js/booking/submitBooking.js","original":{"line":31,"column":16},"generated":{"line":1,"column":1024}},{"source":"js/booking/submitBooking.js","name":"catch","original":{"line":33,"column":5},"generated":{"line":1,"column":1042}},{"source":"js/booking/submitBooking.js","original":{"line":33,"column":12},"generated":{"line":1,"column":1048}},{"source":"js/booking/submitBooking.js","name":"err","original":{"line":33,"column":12},"generated":{"line":1,"column":1057}},{"source":"js/booking/submitBooking.js","name":"params","original":{"line":34,"column":12},"generated":{"line":1,"column":1060}},{"source":"js/booking/submitBooking.js","name":"params","original":{"line":34,"column":12},"generated":{"line":1,"column":1064}},{"source":"js/booking/submitBooking.js","name":"setParams","original":{"line":34,"column":21},"generated":{"line":1,"column":1066}},{"source":"js/booking/submitBooking.js","original":{"line":34,"column":31},"generated":{"line":1,"column":1069}},{"source":"js/booking/submitBooking.js","name":"sessionStorage","original":{"line":35,"column":6},"generated":{"line":1,"column":1072}},{"source":"js/booking/submitBooking.js","name":"setItem","original":{"line":35,"column":21},"generated":{"line":1,"column":1087}},{"source":"js/booking/submitBooking.js","original":{"line":35,"column":29},"generated":{"line":1,"column":1095}},{"source":"js/booking/submitBooking.js","name":"JSON","original":{"line":35,"column":40},"generated":{"line":1,"column":1105}},{"source":"js/booking/submitBooking.js","name":"stringify","original":{"line":35,"column":45},"generated":{"line":1,"column":1110}},{"source":"js/booking/submitBooking.js","name":"params","original":{"line":35,"column":55},"generated":{"line":1,"column":1120}},{"source":"js/booking/submitBooking.js","original":{"line":36,"column":34},"generated":{"line":1,"column":1124}},{"source":"js/booking/submitBooking.js","name":"err","original":{"line":36,"column":10},"generated":{"line":1,"column":1130}},{"source":"js/booking/submitBooking.js","name":"response","original":{"line":36,"column":14},"generated":{"line":1,"column":1132}},{"source":"js/booking/submitBooking.js","name":"status","original":{"line":36,"column":23},"generated":{"line":1,"column":1141}},{"source":"js/booking/submitBooking.js","name":"document","original":{"line":37,"column":8},"generated":{"line":1,"column":1149}},{"source":"js/booking/submitBooking.js","name":"querySelector","original":{"line":37,"column":17},"generated":{"line":1,"column":1158}},{"source":"js/booking/submitBooking.js","original":{"line":37,"column":31},"generated":{"line":1,"column":1172}},{"source":"js/booking/submitBooking.js","name":"innerHTML","original":{"line":37,"column":47},"generated":{"line":1,"column":1188}},{"source":"js/booking/submitBooking.js","name":"err","original":{"line":37,"column":82},"generated":{"line":1,"column":1198}},{"source":"js/booking/submitBooking.js","name":"err","original":{"line":37,"column":82},"generated":{"line":1,"column":1221}},{"source":"js/booking/submitBooking.js","name":"err","original":{"line":37,"column":82},"generated":{"line":1,"column":1228}},{"source":"js/booking/submitBooking.js","name":"response","original":{"line":37,"column":86},"generated":{"line":1,"column":1230}},{"source":"js/booking/submitBooking.js","name":"data","original":{"line":37,"column":95},"generated":{"line":1,"column":1239}},{"source":"js/booking/submitBooking.js","name":"date","original":{"line":37,"column":100},"generated":{"line":1,"column":1244}},{"source":"js/booking/submitBooking.js","name":"err","original":{"line":37,"column":133},"generated":{"line":1,"column":1249}},{"source":"js/booking/submitBooking.js","name":"err","original":{"line":37,"column":133},"generated":{"line":1,"column":1279}},{"source":"js/booking/submitBooking.js","name":"err","original":{"line":37,"column":133},"generated":{"line":1,"column":1286}},{"source":"js/booking/submitBooking.js","name":"response","original":{"line":37,"column":137},"generated":{"line":1,"column":1288}},{"source":"js/booking/submitBooking.js","name":"data","original":{"line":37,"column":146},"generated":{"line":1,"column":1297}},{"source":"js/booking/submitBooking.js","name":"time","original":{"line":37,"column":151},"generated":{"line":1,"column":1302}},{"source":"js/booking/submitBooking.js","original":{"line":37,"column":8},"generated":{"line":1,"column":1307}},{"source":"js/booking/submitBooking.js","original":{"line":38,"column":18},"generated":{"line":1,"column":1329}},{"source":"js/booking/submitBooking.js","original":{"line":38,"column":18},"generated":{"line":1,"column":1331}},{"source":"js/booking/submitBooking.js","original":{"line":38,"column":18},"generated":{"line":1,"column":1333}},{"source":"js/booking/submitBooking.js","original":{"line":38,"column":18},"generated":{"line":1,"column":1344}},{"source":"js/booking/submitBooking.js","original":{"line":40,"column":18},"generated":{"line":1,"column":1359}},{"source":"js/booking/submitBooking.js","original":{"line":40,"column":18},"generated":{"line":1,"column":1361}},{"source":"js/booking/submitBooking.js","original":{"line":40,"column":18},"generated":{"line":1,"column":1363}},{"source":"js/booking/submitBooking.js","original":{"line":40,"column":18},"generated":{"line":1,"column":1374}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":1391}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":1399}},{"source":"js/booking/submitBooking.js","original":{"line":20,"column":7},"generated":{"line":1,"column":1413}}],"sources":{"js/booking/submitBooking.js":"import axios from 'axios';\r\nimport { validateBooking } from './validateBooking';\r\nimport { showModal } from '../index/modal';\r\n\r\nconst bookBtn = document.querySelector('.bookBtn');\r\n\r\nconst setParams = (urlencoding) => {\r\n  const form = document.querySelector('#bookForm');\r\n  const name = form.elements[\"name\"].value;\r\n  const email = form.elements[\"email\"].value;\r\n  const restaurant = form.elements[\"restaurant\"].value;\r\n  const date = form.elements[\"date\"].value;\r\n  const time = form.elements[\"time\"].value;\r\n  const party = form.elements[\"party\"].value;\r\n  const message = form.elements[\"message\"].value;\r\n  if (urlencoding) return  `name=${name}&email=${email}&restaurant=${restaurant}&date=${date}&time=${time}&party=${party}&message=${message}`\r\n  else return { name, email, restaurant, date, time, party, message}\r\n}\r\n\r\nexport const submitBooking = (event, method, url) => {\r\n  event.preventDefault();\r\n  const error = validateBooking();\r\n  if (!error) {\r\n    bookBtn.value = \"Sending...\";\r\n    bookBtn.disabled = true;\r\n    const params = setParams(true);\r\n    axios({method, url, data: params})\r\n    .then( res => {\r\n      const { _id } = res.data;\r\n      document.querySelector('#_id').innerHTML = `<a href=\"booking.html?${_id}\">${_id}</a>`;\r\n      showModal('.bookSuccess');\r\n    })\r\n    .catch( err => {\r\n      const params = setParams(false);\r\n      sessionStorage.setItem('booking', JSON.stringify(params))\r\n      if (err.response.status === 409) {\r\n        document.querySelector('.bookingDate').innerHTML = `<div><p>Date: <span>${err.response.data.date}</span></p><p>Time: <span>${err.response.data.time}</span></p></div>`;\r\n        showModal('.bookFull');\r\n      } else {\r\n        showModal('.bookFail');\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\n\r\n\r\n"},"lineCount":null}},"error":null,"hash":"1b5fe0be46a2d6b6619a3c2bb3dd6d57","cacheData":{"env":{}}}