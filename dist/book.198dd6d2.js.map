{"version":3,"sources":["js/book.js"],"names":["timeContainer","document","querySelector","hourContainer","hourBtns","querySelectorAll","timeBtns","timeRadio","partyBtns","dateInput","dateTodayplus1","Date","now","dateFortnightplus1","min","toISOString","split","max","hours","changeTime","item","index","addEventListener","style","display","forEach","btn","background","innerHTML","value","selectTime","selectParty","bookForm","name","email","date","time","party","formBoxes","errorBoxes","console","log","e","preventDefault","error","checkError","opacity","div","classList","contains","remove","p","validity","valid","showError","getDate","getMonth","getFullYear","msg","errorMsg","add","scrollIntoView"],"mappings":"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","file":"book.198dd6d2.js","sourceRoot":"..","sourcesContent":["const timeContainer = document.querySelector('#time-selection');\r\nconst hourContainer =  document.querySelector('#hour-selection')\r\nconst hourBtns = document.querySelectorAll('#hour-selection span');\r\nconst timeBtns = document.querySelectorAll('#time-selection label');\r\nconst timeRadio = document.querySelectorAll('#time-selection input[type=\"radio\"]');\r\nconst partyBtns = document.querySelectorAll('.party label');\r\n//set initial checked radio\r\n\r\n//date \"yyyy-mm-dd\"\r\nconst dateInput = document.querySelector('#date');\r\nlet dateTodayplus1 = new Date(Date.now() + 86400000);\r\nlet dateFortnightplus1 = new Date(Date.now() + 1296000000);\r\ndateInput.min = dateTodayplus1.toISOString().split('T')[0];\r\ndateInput.max = dateFortnightplus1.toISOString().split('T')[0];;\r\n\r\n// time \r\n\r\nconst hours = [\r\n  [\"12:00\", \"12:30\", \"13:00\", \"13:30\", \"14:00\"],\r\n  [\"14:00\", \"14:30\", \"15:00\", \"15:30\", \"16:00\"],\r\n  [\"16:00\", \"16:30\", \"17:00\", \"17:30\", \"18:00\"],\r\n  [\"18:00\", \"18:30\", \"19:00\", \"19:30\", \"20:00\"],\r\n  [\"20:00\", \"20:30\", \"21:00\", \"21:30\", \"22:00\"]\r\n];\r\n\r\nconst changeTime = (item, index) => {\r\n  item.addEventListener('click', () => {\r\n    timeContainer.style.display = \"block\";\r\n    hourContainer.style.display = \"none\";\r\n    hourBtns.forEach( btn => btn.style.background = \"#F5F5F5\");\r\n    hourBtns[index].style.background = \"darkgreen\";\r\n    timeBtns[0].innerHTML = hours[index][0];\r\n    timeRadio[0].value = hours[index][0];\r\n    timeBtns[1].innerHTML = hours[index][1];\r\n    timeRadio[1].value = hours[index][1];\r\n    timeBtns[2].innerHTML = hours[index][2];\r\n    timeRadio[2].value = hours[index][2];\r\n    timeBtns[3].innerHTML = hours[index][3];\r\n    timeRadio[3].value = hours[index][3];\r\n    timeBtns[4].innerHTML = hours[index][4];\r\n    timeRadio[4].value = hours[index][4];\r\n    /*\r\n    for (let h = 0; h < hours[index].length; h++) {\r\n      timeBtns[index].innerHTML = hours[index][h]; */\r\n    })\r\n  };\r\n\r\nconst selectTime = (item, index) => {\r\n  item.addEventListener('click', () => {\r\n    timeBtns.forEach ( btn => btn.style.background = \"#F5F5F5\");\r\n    timeBtns[index].style.background = \"darkgreen\";\r\n  });\r\n};\r\n\r\nhourBtns.forEach(changeTime);\r\ntimeBtns.forEach(selectTime);\r\n\r\n  //time back button\r\ndocument.querySelector('#timebackBtn').addEventListener('click', () => {\r\n  timeContainer.style.display = \"none\";\r\n  hourContainer.style.display = \"block\";\r\n});\r\n\r\n// party selection\r\nconst selectParty = (item, index) => {\r\n  item.addEventListener('click', () => {\r\n    partyBtns.forEach ( btn => btn.style.background = \"#F5F5F5\");\r\n    partyBtns[index].style.background = \"darkgreen\";\r\n  });\r\n};\r\n\r\npartyBtns.forEach(selectParty);\r\n\r\n\r\n//form submit\r\nconst bookForm = document.querySelector('#bookForm');\r\nconst name = document.querySelector('#name');\r\nconst email = document.querySelector('#email');\r\nconst date = document.querySelector('#date');\r\nconst time = document.querySelector('input[name=\"time\"]');\r\nconst party = document.querySelector('input[name=\"party\"]');\r\nconst formBoxes = document.querySelectorAll('#bookForm div')\r\nconst errorBoxes = document.querySelectorAll('.error');\r\nconsole.log(formBoxes);\r\n\r\nbookForm.addEventListener('submit', (e) => {  \r\n    e.preventDefault();\r\n    const error = checkError();\r\n    if (error === 0) {\r\n    document.querySelector('.submit-message').style.opacity = 1;\r\n    }\r\n});\r\n\r\n\r\nfunction checkError() {\r\n  formBoxes.forEach( div => { \r\n    if (div.classList.contains('invalid')) {\r\n      div.classList.remove('invalid')\r\n    };\r\n  });\r\n  errorBoxes.forEach( p => {\r\n    p.innerHTML = '';\r\n    p.style.display = 'none';\r\n  });\r\n  let error = 0;\r\n  if (!name.validity.valid) {\r\n    error = 1;\r\n    showError(0, 'Please enter your name');\r\n  }\r\n  if (!email.validity.valid) {\r\n    error = 1;\r\n    showError(1, 'Please enter your valid email address');\r\n  } \r\n  if (!date.validity.valid) {\r\n    error = 1;\r\n    showError(2, `Please input a date (dd/mm/yy) between ${dateTodayplus1.getDate()}/${dateTodayplus1.getMonth() + 1}/${dateTodayplus1.getFullYear()} and ${dateFortnightplus1.getDate()}/${dateFortnightplus1.getMonth() + 1}/${dateFortnightplus1.getFullYear()}`);\r\n  } \r\n  if (date.validity.valid) {\r\n    // need to check invalid date has not been typed in! \r\n  }\r\n  if (!time.validity.valid) {\r\n    error = 1;\r\n    showError(3, 'Please select the time you would like to book');\r\n  } \r\n  if (!party.validity.valid) {\r\n    error = 1;\r\n    showError(4, 'Please select the number of people');\r\n  }  \r\n  return error;\r\n}\r\n\r\n\r\n\r\nfunction showError(index, msg) {\r\n  let errorMsg = msg;\r\n  errorBoxes[index].innerHTML = errorMsg;\r\n  errorBoxes[index].style.display = 'block';\r\n  formBoxes[index].classList.add('invalid');\r\n  formBoxes[index].scrollIntoView();\r\n}\r\n\r\n\r\n\r\n"]}